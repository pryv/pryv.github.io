{
  "version": 20130506.01,
  "classes": {
    "activity": {
      "description": "To record the time spent doing something (tasks, sports, etc.).",
      "formats": {
        "pryv": {
          "description": "Pryv activity event. No value here, as the value is actually defined by the event's time and duration fields as well as its classification (folder, tags).",
          "type": "null"
        }
      }
    },
    "audio": {
      "description": "To record audio (conversations, voice messages, etc.).",
      "formats": {
        "attached": {
          "description": "TODO",
          "type": "null"
        },
        "url": {
          "description": "A reference to an audio file online.",
          "type": "string"
        }
      }
    },
    "call": {
      "description": "To record references to phone calls (landline, mobile, Skype, etc.).",
      "formats": {
        "skype": {
          "description": "TODO (skype id)"
        },
        "telephone": {
          "description": "TODO (number)"
        }
      }
    },
    "contact": {
      "description": "To record events related to people (meeting someone special, business encounters, etc.).",
      "formats": {
        "facebook": {
          "description": "TODO"
        },
        "vcard": {
          "description": "TODO"
        }
      }
    },
    "count": {
      "description": "To record the counting of objects (eggs, apples, etc.).",
      "formats": {
        "generic": {
          "description": "For general items that demand no particular handling.",
          "type": "number"
        }
      }
    },
    "encrypted": {
      "description": "For client-side-encrypted events. The decrypted <code>payload</code> is expected to be a JSON object with the regular <code>type</code> and <code>value</code> properties (e.g. <code>{ \"type\": { \"class\": \"..\", \"format\": \"..\" }, \"value\": \"..\" }</code>). If the event has attached files, they are expected to be similarly encrypted.",
      "formats": {
        "aes-text-base64" : {
          "description": "AES encrypted payload, with a <em>text</em> key and a <em>Base64</em> payload.",
          "type": "object",
          "properties" : {
            "payload" : {
              "description": "The encrypted data.",
              "type": "string",
              "required": true
            },
            "keyRef" : {
              "description": "A reference (e.g. id, name in keychain) to the key to use for decryption." ,
              "type": "string"
            },
            "hint": {
              "description": "Alternative to <code>keyRef</code>. A textual hint about which key to use for decryption.",
              "type": "string"
            }
          }
        }
      }
    },
    "file": {
      "description": "To record a file, or a group of files. A fallback type for data with no specific handling in Pryv.",
      "formats": {
        "attached": {
          "description": "TODO",
          "type": "null"
        },
        "attached-multiple":{
          "description": "TODO",
          "type": "null",
          "example":{
            "attachments": {
              "relative/path/to/file1.ext": {
                "fileName": "relative_path_to_file1.ext",
                "type": "mime-type",
                "size": 5123
              },
              "relative/path/to/file2.ext": {
                "fileName": "relative_path_to_file2.ext",
                "type": "mime-type",
                "size": 5123
              }
            },
            "...": "..."
          }
        },
        "url": {
          "description": "TODO",
          "type": "string"
        }
      }
    },
    "length": {
      "description": "To record length measurements. Format = unit.",
      "formats": {
        "cm": {
          "description": "Centimeters.",
          "type": "number"
        },
        "m": {
          "description": "Meters.",
          "type": "number"
        },
        "km": {
          "description": "Kilometers.",
          "type": "number"
        }
      }
    },
    "mass": {
      "description": "To record mass measurements (kid weight, tons of gold digged today, etc.). Format = unit.",
      "formats": {
        "kg": {
          "description": "Kilograms.",
          "type": "number"
        }
      }
    },
    "message": {
      "description": "To record messages, such as e-mails or posts on social networks.",
      "formats": {
        "email": {
          "description": "An e-mail message. TODO: review and complete",
          "type": "object",
          "properties": {
            "from": {
              "type": "string"
            },
            "to": {
              "type": "string"
            },
            "cc": {
              "type": "string"
            },
            "bcc": {
              "type": "string"
            },
            "subject": {
              "type": "string"
            },
            "body": {
              "type": "string"
            }
          }
        },
        "facebook": {
          "description": "A Facebook post. See <a href=\"https://developers.facebook.com/docs/reference/api/post/\">Facebook's API doc</a> for reference. TODO: add example (Facebook post can be copied RAW as a value. \nmap: \n   fbPost.message -> pryvEvent.description\n   fbPost.created_time -> pryvEvent.time\n TBD: what to do with videos & pictures?)",
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "required": true
            },
            "from": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "required": true
                },
                "id": {
                  "type": "string",
                  "required": true
                }
              }
            },
            "to": {
              "type": "object",
              "properties": {
                "data": {
                  "type": "array",
                  "items":{
                    "type": "object",
                    "properties": {
                      "name": "string",
                      "id": "string"
                    }
                  }
                }
              }
            },
            "message": {
              "type": "string"
            },
            "picture": {
              "type": "string"
            },
            "link": {
              "type": "string"
            },
            "caption": {
              "type": "string"
            },
            "description": {
              "type": "string"
            },
            "source": {
              "type": "string"
            },
            "icon": {
              "type": "string"
            },
            "type": {
              "type": "string"
            }
          }
        },
        "twitter": {
          "description": "A Twitter post. TODO: detail",
          "type": "object",
          "properties": {
            "TODO": {
              "type": "string"
            }
          }
        }
      }
    },
    "money": {
      "description": "To record sums of money (expenses, loans, stock values, etc.). Format = currency. Based on ISO 4217.",
      "formats": {
        "aed": {"type": "number"},
        "ang": {"type": "number"},
        "ars": {"type": "number"},
        "aud": {"type": "number"},
        "bgn": {"type": "number"},
        "bhd": {"type": "number"},
        "bnd": {"type": "number"},
        "bob": {"type": "number"},
        "brl": {"type": "number"},
        "bwp": {"type": "number"},
        "cad": {"type": "number"},
        "chf": {"type": "number"},
        "clp": {"type": "number"},
        "cny": {"type": "number"},
        "cop": {"type": "number"},
        "crc": {"type": "number"},
        "czk": {"type": "number"},
        "dkk": {"type": "number"},
        "dop": {"type": "number"},
        "dzd": {"type": "number"},
        "eek": {"type": "number"},
        "egp": {"type": "number"},
        "eur": {"type": "number"},
        "fjd": {"type": "number"},
        "gbp": {"type": "number"},
        "hkd": {"type": "number"},
        "hnl": {"type": "number"},
        "hrk": {"type": "number"},
        "huf": {"type": "number"},
        "idr": {"type": "number"},
        "ils": {"type": "number"},
        "inr": {"type": "number"},
        "jmd": {"type": "number"},
        "jod": {"type": "number"},
        "jpy": {"type": "number"},
        "kes": {"type": "number"},
        "krw": {"type": "number"},
        "kwd": {"type": "number"},
        "kyd": {"type": "number"},
        "kzt": {"type": "number"},
        "lbp": {"type": "number"},
        "lkr": {"type": "number"},
        "ltl": {"type": "number"},
        "lvl": {"type": "number"},
        "mad": {"type": "number"},
        "mdl": {"type": "number"},
        "mkd": {"type": "number"},
        "mur": {"type": "number"},
        "mxn": {"type": "number"},
        "myr": {"type": "number"},
        "nad": {"type": "number"},
        "ngn": {"type": "number"},
        "nio": {"type": "number"},
        "nok": {"type": "number"},
        "npr": {"type": "number"},
        "nzd": {"type": "number"},
        "omr": {"type": "number"},
        "pen": {"type": "number"},
        "pgk": {"type": "number"},
        "php": {"type": "number"},
        "pkr": {"type": "number"},
        "pln": {"type": "number"},
        "pyg": {"type": "number"},
        "qar": {"type": "number"},
        "ron": {"type": "number"},
        "rsd": {"type": "number"},
        "rub": {"type": "number"},
        "sar": {"type": "number"},
        "scr": {"type": "number"},
        "sek": {"type": "number"},
        "sgd": {"type": "number"},
        "skk": {"type": "number"},
        "sll": {"type": "number"},
        "svc": {"type": "number"},
        "thb": {"type": "number"},
        "tnd": {"type": "number"},
        "try": {"type": "number"},
        "ttd": {"type": "number"},
        "twd": {"type": "number"},
        "tzs": {"type": "number"},
        "uah": {"type": "number"},
        "ugx": {"type": "number"},
        "usd": {"type": "number"},
        "uyu": {"type": "number"},
        "uzs": {"type": "number"},
        "vnd": {"type": "number"},
        "yer": {"type": "number"},
        "zar": {"type": "number"},
        "zmk": {"type": "number"}
      }
    },
    "music": {
      "description": "To record references to music (from Soundcloud, Shazam tags, etc.).",
      "formats": {
        "id3": {
          "description": "TODO"
        },
        "itunes": {
          "description": "TODO"
        },
        "soundcloud": {
          "description": "TODO"
        }
      }
    },
    "note": {
      "description": "To record different kinds of text-based notes, from simple text to more complex formatted content like social network posts.",
      "formats": {
        "html": {
          "description": "An HTML-formatted note.",
          "type": "string",
          "maxLength": "4194304"
        },
        "txt": {
          "description": "A plain-text note.",
          "type": "string",
          "maxLength": "4194304"
        },
        "webclip": {
          "description": "An HTML-formatted note associated to its source URL.",
          "type": "object",
          "properties": {
            "url": {
              "type": "string",
              "required": true,
              "pattern": "^(https?)://.+$"
            },
            "content": {
              "description": "An HTML-formatted string.",
              "type": "string",
              "maxLength": "4194304"
            }
          }
        }
      }
    },
    "picture": {
      "description": "To record any kind of image (photos, designs, screenshots, etc.)",
      "formats": {
        "attached": {
          "description": "The picture is the image file attached to the event (no explicit value defined). TODO: list accepted formats.",
          "type": "null"
        },
        "url": {
          "description": "A reference to a picture file online.",
          "type": "string"
        }
      }
    },
    "position": {
      "description": "To record a geographical position.",
      "formats": {
        "wgs84": {
          "description": "The latest revision of the World Geodetic System (used by GPS).",
          "type": "object",
          "properties": {
            "latitude": {
              "type": "number",
              "required": true,
              "description": "Unit: degrees north from the equator."
            },
            "longitude": {
              "type": "number",
              "required": true,
              "description": "Unit: degrees east from the zero meridian."
            },
            "altitude": {
              "type": "number",
              "required": false,
              "description": "Unit: meters above sea level."
            },
            "horizontalAccuracy": {
              "type": "number",
              "required": false,
              "description": "The radius of uncertainty for latitude and longitude. Unit: meters. Negative if latitude and longitude are invalid."
            },
            "verticalAccuracy": {
              "type": "number",
              "required": false,
              "description": "The radius of uncertainty for altitude. Unit: meters. Negative if altitude is invalid."
            },
            "speed": {
              "type": "number",
              "required": false,
              "description": "For informational purposes only. Unit: meters / second. Negative if invalid."
            },
            "bearing": {
              "type": "number",
              "required": false,
              "description": "Unit: degrees clockwise from north. Negative if invalid."
            }
          }
        }
      }
    },
    "ratio": {
      "description": "To record proportional values (e.g. 1/3, 21.5/100).",
      "formats": {
        "generic": {
          "description": "Generic ratio.",
          "type": "object",
          "properties": {
            "value": {
              "type": "number",
              "required": true
            },
            "relativeTo": {
              "type": "number",
              "required": true
            }
          }
        }
      }
    },
    "temperature": {
      "description": "To record temperature measurements. Format = unit.",
      "formats": {
        "c": {
          "description": "Celsius.",
          "type": "number"
        },
        "f": {
          "description": "Fahrenheit.",
          "type": "number"
        }
      }
    },
    "url": {
      "description": "To record references to online resources. Format ~= protocol.",
      "formats": {
        "http": {
          "description": "An HTTP or HTTPS resource.",
          "type": "string",
          "pattern": "^(https?)://.+$"
        }
      }
    },
    "video": {
      "description": "To record video (home snippets, Vimeo or YouTube links, etc.).",
      "formats": {
        "attached": {
          "description": "TODO"
        },
        "url": {
          "description": "A reference to an video file online."
        },
        "youtube": {
          "description": "TODO"
        }
      }
    },
    "volume": {
      "description": "To record volume measurements. Format = unit.",
      "formats": {
        "l": {
          "description": "Liters.",
          "type": "number"
        },
        "m3": {
          "description": "Cubic meters.",
          "type": "number"
        }
      }
    }
  }
}
