<!DOCTYPE html><html lang="en" class="no-js"><head><meta charset="UTF-8"><meta name="description" content="TODO"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>User management reference | Pryv API</title><link rel="icon" href="/assets/images/favicon-black.ico" type="image/x-icon"><link rel="apple-touch-icon" sizes="120x120" href="/assets/images/apple-touch-icon-120x120-black.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/images/apple-touch-icon-152x152-black.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/images/apple-touch-icon-180x180-black.png"><!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:400,300,500,700,400italic|Roboto+Condensed:400,300,700"><link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/docco.min.css"><link rel="stylesheet" type="text/css" href="/assets/fonts/ss-gizmo.min.css"><link rel="stylesheet" type="text/css" href="/assets/style.css"></head><body class="reference-system with-toc with-examples"><header id="page-header"><nav role="navigation" class="navbar navbar-default navbar-fixed-top"><div class="container-fluid"><div class="navbar-header"><a href="https://pryv.com" title="Pryv home" class="navbar-brand logo pryv-home"><img src="/assets/images/icon-home.svg" alt="Pryv home" height="50"></a><a href="/" title="Developers home" class="navbar-brand logo"><img src="/assets/images/logo-256-black.png" alt="Developers home"></a><button type="button" data-toggle="collapse" data-target="#main-nav" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div id="main-nav" class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Guides <b class="caret"></b></a><ul class="dropdown-menu"><!--+menuItem('getting-started', 'Getting started (soon)', {disabled: true})--><li><a href="/getting-started/javascript/">Getting started: Javascript</a></li><li><a href="/getting-started/java/">Getting started: Java</a></li><li><a href="/concepts/">API concepts</a></li><!--+menuItem('data-modeling', 'Data modeling') —> into "Concepts"??--></ul></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Reference <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="/reference/">API reference</a></li><li><a href="/change-log/">API change log</a></li><li><a href="/event-types/">Event types</a></li><!--+menuItem('standardStructure')--></ul></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Code <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="/code-libraries/">Code libraries</a></li><li><a href="/apps-and-services/">Example apps</a></li></ul></li><!--lia(href='#') Blog--></ul><div class="navbar-right"><p class="navbar-text version"><a href="/change-log" title="View change log">API version: <strong>1.1.2</strong></a></p></div><form class="navbar-form navbar-right"><div class="form-group"><label for="examples-format">Examples:&nbsp;</label><select id="examples-format" class="form-control"><option value="json" selected="selected">Raw JSON</option><option value="http">cURL</option><option value="sockets">Socket.IO</option></select></div></form></div></div></nav></header><div id="main-wrapper" class="container-fluid"><div id="main"><h1 class="page-title">User management reference</h1><section id="overview"><h1 id="overview">Overview</h1>
<div class="intro"><p>This document describes Pryv&#39;s &quot;system-level&quot; API, allowing developers to control the creation of user accounts.</p>
</div><section id="overview-services-involved"><h2 id="services-involved">Services involved</h2>
<div class="content"><div class="meta"></div><div class="intro"><p>Unlike user account data, which is fully managed by the core server hosting each account, managing the accounts themselves (e.g. creation, relocation, deletion) is handled by the core servers <em>and</em> the central registration server (AKA user account directory).</p>
<ul>
<li>The <strong>core servers</strong> own the account management processes, i.e. account creation, migration and deletion</li>
<li>The <strong>registration server</strong> maintains the list of account names and their hosting locations; it helps account management by providing checks (for creation) and is notified of all relevant changes by the core servers.</li>
</ul>
</div></div></section></section><section id="account-creation"><h1 id="creating-an-account">Creating an account</h1>
<div class="intro"><p><strong>Attention, this process will change</strong>: the creation call will no longer happen on the registration server but on the core server, and the registration server will only provide checks and get notified of changes.</p>
</div><section id="account-creation-process-steps"><h2 id="process-steps">Process steps</h2>
<div class="content"><div class="meta"></div><div class="intro"><ol>
<li>Client calls registration server with desired new account data (including which core server should host the account)</li>
<li>Registration server verifies data, hands it over to specified core server if OK</li>
<li>Core server verifies data, creates account if OK (sending welcome email to user), returns status (including created account id) to registration server</li>
<li>Registration server updates directory if OK, returns status to client</li>
</ol>
</div></div></section><section id="account-creation-api-methods"><h2 id="api-methods">API methods</h2>
<div class="content"><div class="meta"></div><div class="intro"><p>The methods are called via HTTPS on the registration server.</p>
</div></div><section id="account-creation-api-methods-users-create" class="method"> <h3 id="create-user">Create user</h3>
<div class="content"><div class="meta"><span class="method-id"><span class="label">id</span><span class="label-value"><code>users.create</code></span></span><span class="http"><span class="label">HTTP</span><span class="label-value"><code>POST /users</code></span></span></div><div class="intro"><p>Creates a new user account on the specified core server.</p>
</div><h4 id="parameters">Parameters</h4>
<table class="definitions"><tr><th><code>appid</code></th><td><div class="header"><span class="type">string</span></div><div class="description"><p>Your app&#39;s unique identifier.</p>
</div></td></tr><tr><th><code>hosting</code></th><td><div class="header"><span class="type">string</span></div><div class="description"><p>The name of the core server that should host the account.</p>
</div></td></tr><tr><th><code>username</code></th><td><div class="header"><span class="type">string</span></div><div class="description"><p>The user&#39;s username.</p>
</div></td></tr><tr><th><code>password</code></th><td><div class="header"><span class="type">string</span></div><div class="description"><p>The user&#39;s password.</p>
</div></td></tr><tr><th><code>email</code></th><td><div class="header"><span class="type">string</span></div><div class="description"><p>The user&#39;s e-mail.</p>
</div></td></tr><tr><th><code>languageCode</code></th><td><div class="header"><span class="type">string</span><span class="label label-default optional">optional</span></div><div class="description"><p>The user&#39;s preferred language as a 2-letter ISO language code.</p>
</div></td></tr><tr><th><code>invitationtoken</code></th><td><div class="header"><span class="type">string</span></div><div class="description"><p>An invitation token; used when limiting registration to a specific set of users.</p>
</div></td></tr><tr><th><code>referer</code></th><td><div class="header"><span class="type">string</span><span class="label label-default optional">optional</span></div><div class="description"><p>A referer id potentially used for analytics.</p>
</div></td></tr></table><h4 id="result">Result</h4>
<span class="http"><span class="label">HTTP</span><span class="label-value"><code>200 OK</code></span></span><table class="definitions"><tr><th><code>username</code></th><td><div class="header"><span class="type">string</span></div><div class="description"><p>A confirmation of the user&#39;s username.</p>
</div></td></tr><tr><th><code>server</code></th><td><div class="header"><span class="type">string</span></div><div class="description"><p>The hostname of the core server hosting the new account.</p>
</div></td></tr></table></div><aside></aside></section></section></section></div><nav id="toc"></nav></div><footer id="page-footer"><nav class="navbar navbar-default"><div class="container-fluid"><div id="footer-nav"><ul class="nav navbar-nav"><li><a href="mailto:developers@pryv.com">Send a message</a></li><li><a href="https://github.com/pryv">GitHub</a></li><li><a href="https://pryv.com">pryv.com</a></li></ul></div></div></nav></footer><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script><script src="/assets/bootstrap.min.js"></script><script src="/assets/js/toc.min.js"></script><!-- TOC generation--><script>jQuery(document).ready(function($) {
  var offset = 50;

  $('#toc').toc({
    selector: '#main h1:not(.page-title),#main h2,#main h3',
    ulClass: 'nav'
  });

  $('body').scrollspy({
    target: '#toc',
    offset: offset
  });

  // fix offset when navigating
  $('#toc li a, a.toc-anchor').click(function (e) {
    e.preventDefault();
    var target = $(this).attr('href');
    window.location.hash = target;
    $(target)[0].scrollIntoView();
    if ($(window).scrollTop() + $(window).height() !== $(document).height()) {
      // only adjust when not at bottom
      scrollBy(0, -offset + 1);
    }
  });
});
</script><!-- Code blocks highlighting--><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();
</script><!-- Code examples format switch--><script>$(document).ready(function () {
  setExamplesFormat($('#examples-format').get(0).value);
});
$('#examples-format').on('change', function () {
  setExamplesFormat(this.value);
});
function setExamplesFormat(format) {
  var removeSelectors = [];
  ['json', 'http', 'sockets'].forEach(function (f) {
    if (format !== f) {
      removeSelectors.push('.example .tab-pane.' + f + '.active');
    }
  });
  $(removeSelectors.join(',')).removeClass("active");
  $('.example .tab-pane.' + format).addClass("active");
}</script><!-- Google Analytics--><script>var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-36589447-2']);
_gaq.push(['_trackPageview']);
(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script><!-- Sales-Wings--><script type="text/javascript" id="SW-fd71dffa-76e8-479e-a37b-6e915b97b023"></script><script>!function(){function a(){var a=document.createElement("script");
a.type="text/javascript",a.async=1,a.src="//go.saleswingsapp.com/assets/javascripts/sw/fd71dffa-76e8-479e-a37b-6e915b97b023";
var b=document.getElementById("SW-fd71dffa-76e8-479e-a37b-6e915b97b023");
b.parentNode.insertBefore(a,b)}window.attachEvent?window.attachEvent("onload",a):window.addEventListener("load",a,0)}();</script></body></html>