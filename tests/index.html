<!DOCTYPE html><html lang="en" class="no-js"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="description" property="og:description" content="Pryv API reference and resources for developers"><meta name="author" content="Pryv SA"><meta property="og:type" content="website"><meta name="image" property="og:image" content="/assets/images/logo-256.png"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Pryv.io Tests results | Pryv API</title><link rel="icon" href="/assets/images/favicon-black.ico" type="image/x-icon"><link rel="apple-touch-icon" sizes="120x120" href="/assets/images/apple-touch-icon-120x120-black.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/images/apple-touch-icon-152x152-black.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/images/apple-touch-icon-180x180-black.png"><!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:400,300,500,700,400italic|Roboto+Condensed:400,300,700"><link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/docco.min.css"><link rel="stylesheet" type="text/css" href="/assets/fonts/ss-gizmo.min.css"><link rel="stylesheet" type="text/css" href="/assets/style.css"></head><body class="tests with-toc"><header id="page-header"><nav role="navigation" class="navbar navbar-default navbar-fixed-top"><div class="container-fluid"><div class="navbar-header"><a href="https://pryv.com" title="Pryv home" class="navbar-brand logo pryv-home"><img src="/assets/images/icon-home.svg" alt="Pryv home" height="50"></a><a href="/" title="Developers home" class="navbar-brand logo"><img src="/assets/images/logo-256-black.png" alt="Developers home"></a><button type="button" data-toggle="collapse" data-target="#main-nav" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div id="main-nav" class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Guides <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="/getting-started/">Getting started</a></li><li><a href="/concepts/">API concepts</a></li><li><a href="/external-resources/">External resources</a></li><!--+menuItem('data-modeling', 'Data modeling') —> into "Concepts"??--></ul></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Reference <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="/reference/">API reference</a></li><li><a href="/change-log/">API change log</a></li><li><a href="/event-types/">Event types</a></li><!--+menuItem('standardStructure')--></ul></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">FAQ <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="/faq-api/">API</a></li><li><a href="/faq-infra/">Infrastructure</a></li></ul></li><!--lia(href='#') Blog--></ul><div class="navbar-right"><p class="navbar-text version"><a href="/change-log/" title="View change log">API version: <strong>1.4.23</strong></a></p></div></div></div></nav></header><div id="main-wrapper" class="container container-narrow"><div id="main"><h1 class="page-title">Pryv.io Tests results</h1><section id="introduction-introduction"><h1 id="introduction">Introduction</h1>
<div class="content"><div class="meta"></div><div class="intro"><p>Results of Pryv.io test suites</p>
</div></div></section><section id="services-services"><h1 id="services">Services</h1>
<div class="content"><div class="meta"></div></div><section id="services-service-core 1-4.16"><h2 id="service-core-1-4-16">service-core 1.4.16</h2>
<div class="content"><div class="meta"></div></div><h4 id="summary">Summary</h4>
<table class="definitions"><tr><th><code>Number of tests</code></th><td>719</td></tr><tr><th><code>Passes ✅</code></th><td>719</td></tr><tr><th><code>Pending ❓</code></th><td>0</td></tr><tr><th><code>Failures ❌</code></th><td>0</td></tr></table><div class="intro"><p>Date: Fri Sep 06 2019 05:16:09 GMT+0200 (CEST)</p>
</div><section id="services-api-server"> <h3 id="api-server">api-server</h3>
<div class="content"><div class="meta"></div><h4 id="summary">Summary</h4>
<table class="definitions"><tr><th><code>Number of tests</code></th><td>498</td></tr><tr><th><code>Passes ✅</code></th><td>498</td></tr><tr><th><code>Pending ❓</code></th><td>0</td></tr><tr><th><code>Failures ❌</code></th><td>0</td></tr></table><h4 id="tests">Tests</h4>
<table> <thead><tr><th> 
Id</th><th> 
Status</th><th>Test</th></tr></thead><tbody><tr><td colspan="3"><b>Access deletions when given a few existing accesses accesses.get </b></td></tr><tr><td><test id="P12L"><code>P12L</code></test></td><td>✅</td><td><span class="type"> should contain deletions</span></td></tr><tr><td><test id="BQ7M"><code>BQ7M</code></test></td><td>✅</td><td><span class="type"> contains active accesses</span></td></tr><tr><td><test id="NVCQ"><code>NVCQ</code></test></td><td>✅</td><td><span class="type"> contains deleted accesses as well</span></td></tr><tr><td><test id="6ZQL"><code>6ZQL</code></test></td><td>✅</td><td><span class="type"> deleted access are in UTC (seconds) format</span></td></tr><tr><td colspan="3"><b>Access deletions when given a few existing accesses accesses.create for a valid access </b></td></tr><tr><td><test id="N3Q1"><code>N3Q1</code></test></td><td>✅</td><td><span class="type"> should contain an access</span></td></tr><tr><td><test id="J77Z"><code>J77Z</code></test></td><td>✅</td><td><span class="type"> should contain the set values, but no &quot;deleted&quot; field in the API response</span></td></tr><tr><td><test id="A4JP"><code>A4JP</code></test></td><td>✅</td><td><span class="type"> should contain the field &quot;deleted:null&quot; in the database</span></td></tr><tr><td colspan="3"><b>Access deletions when given a few existing accesses accesses.create for a deleted access </b></td></tr><tr><td><test id="1DJ6"><code>1DJ6</code></test></td><td>✅</td><td><span class="type"> should return an error</span></td></tr><tr><td><test id="7ZPK"><code>7ZPK</code></test></td><td>✅</td><td><span class="type"> error should say that the deleted field is forbidden upon creation</span></td></tr><tr><td colspan="3"><b>Access deletions when given a few existing accesses accesses.update </b></td></tr><tr><td><test id="JNJK"><code>JNJK</code></test></td><td>✅</td><td><span class="type"> should return an error</span></td></tr><tr><td><test id="OS36"><code>OS36</code></test></td><td>✅</td><td><span class="type"> error should say that the deleted field is forbidden upon update</span></td></tr><tr><td colspan="3"><b>Access expiry when given a few existing accesses accesses.get vanilla version </b></td></tr><tr><td><test id="489J"><code>489J</code></test></td><td>✅</td><td><span class="type"> succeeds</span></td></tr><tr><td><test id="7NPE"><code>7NPE</code></test></td><td>✅</td><td><span class="type"> contains only active accesses</span></td></tr><tr><td colspan="3"><b>Access expiry when given a few existing accesses accesses.get when given the includeExpired=true parameter </b></td></tr><tr><td><test id="PIGE"><code>PIGE</code></test></td><td>✅</td><td><span class="type"> succeeds</span></td></tr><tr><td><test id="DZHL"><code>DZHL</code></test></td><td>✅</td><td><span class="type"> includes expired accesses</span></td></tr><tr><td colspan="3"><b>Access expiry when given a few existing accesses accesses.create when called with expireAfter>0 </b></td></tr><tr><td><test id="3ONA"><code>3ONA</code></test></td><td>✅</td><td><span class="type"> creates an access with set expiry timestamp</span></td></tr><tr><td colspan="3"><b>Access expiry when given a few existing accesses accesses.create when called with expireAfter=0 </b></td></tr><tr><td><test id="8B65"><code>8B65</code></test></td><td>✅</td><td><span class="type"> creates an expired access</span></td></tr><tr><td colspan="3"><b>Access expiry when given a few existing accesses accesses.create when called with expireAfter<0 </b></td></tr><tr><td><test id="JHWH"><code>JHWH</code></test></td><td>✅</td><td><span class="type"> fails</span></td></tr><tr><td colspan="3"><b>Access expiry when given a few existing accesses accesses.update with expireAfter>0 </b></td></tr><tr><td><test id="FMKA"><code>FMKA</code></test></td><td>✅</td><td><span class="type"> sets the &#39;expires&#39; attribute</span></td></tr><tr><td colspan="3"><b>Access expiry when given a few existing accesses accesses.update with expireAfter=0 </b></td></tr><tr><td><test id="TKKF"><code>TKKF</code></test></td><td>✅</td><td><span class="type"> expires the access immediately</span></td></tr><tr><td colspan="3"><b>Access expiry when given a few existing accesses accesses.update with expires=null </b></td></tr><tr><td><test id="D80R"><code>D80R</code></test></td><td>✅</td><td><span class="type"> removes expiry</span></td></tr><tr><td colspan="3"><b>Access expiry when given a few existing accesses accesses.update when trying to update itself with a longer expiration </b></td></tr><tr><td><test id="IW8Y"><code>IW8Y</code></test></td><td>✅</td><td><span class="type"> fails</span></td></tr><tr><td colspan="3"><b>Access expiry when given a few existing accesses accesses.checkApp when the matching access is not expired </b></td></tr><tr><td><test id="B66B"><code>B66B</code></test></td><td>✅</td><td><span class="type"> returns the matching access</span></td></tr><tr><td colspan="3"><b>Access expiry when given a few existing accesses accesses.checkApp when the matching access is expired </b></td></tr><tr><td><test id="DLHJ"><code>DLHJ</code></test></td><td>✅</td><td><span class="type"> returns no match</span></td></tr><tr><td colspan="3"><b>Access expiry when given a few existing accesses other API accesses using an expired access </b></td></tr><tr><td><test id="AJG5"><code>AJG5</code></test></td><td>✅</td><td><span class="type"> fails</span></td></tr><tr><td><test id="KGT4"><code>KGT4</code></test></td><td>✅</td><td><span class="type"> returns a proper error message</span></td></tr><tr><td colspan="3"><b>Access expiry when given a few existing accesses other API accesses using a valid access </b></td></tr><tr><td><test id="CBRF"><code>CBRF</code></test></td><td>✅</td><td><span class="type"> succeeds</span></td></tr><tr><td colspan="3"><b>Access client data when given a few existing accesses accesses.get </b></td></tr><tr><td><test id="KML2"><code>KML2</code></test></td><td>✅</td><td><span class="type"> succeeds</span></td></tr><tr><td><test id="NY85"><code>NY85</code></test></td><td>✅</td><td><span class="type"> contains existing accesses with clientData</span></td></tr><tr><td colspan="3"><b>Access client data when given a few existing accesses accesses.create when called with clientData={} </b></td></tr><tr><td><test id="OMUO"><code>OMUO</code></test></td><td>✅</td><td><span class="type"> creates an access with empty clientData</span></td></tr><tr><td colspan="3"><b>Access client data when given a few existing accesses accesses.create when called with clientData=null </b></td></tr><tr><td><test id="E5C1"><code>E5C1</code></test></td><td>✅</td><td><span class="type"> throws a schema error</span></td></tr><tr><td colspan="3"><b>Access client data when given a few existing accesses accesses.create when called with complex clientData </b></td></tr><tr><td><test id="JYD4"><code>JYD4</code></test></td><td>✅</td><td><span class="type"> creates an access with complex clientData</span></td></tr><tr><td colspan="3"><b>Access client data when given a few existing accesses accesses.update if existing clientData was not empty </b></td></tr><tr><td><test id="IY9L"><code>IY9L</code></test></td><td>✅</td><td><span class="type"> updates previous clientData with new clientData</span></td></tr><tr><td colspan="3"><b>Access client data when given a few existing accesses accesses.update if clientData is not provided </b></td></tr><tr><td><test id="SUT0"><code>SUT0</code></test></td><td>✅</td><td><span class="type"> keeps existing clientData untouched</span></td></tr><tr><td colspan="3"><b>Access client data when given a few existing accesses accesses.update if existing clientData was empty </b></td></tr><tr><td><test id="WC3I"><code>WC3I</code></test></td><td>✅</td><td><span class="type"> sets clientData to provided clientData</span></td></tr><tr><td colspan="3"><b>Access client data when given a few existing accesses accesses.update if provided clientData is explicitely null </b></td></tr><tr><td><test id="2OUY"><code>2OUY</code></test></td><td>✅</td><td><span class="type"> removes existing clientData</span></td></tr><tr><td colspan="3"><b>Access client data when given a few existing accesses accesses.checkApp when the provided clientData matches the existing clientData </b></td></tr><tr><td><test id="U1AM"><code>U1AM</code></test></td><td>✅</td><td><span class="type"> returns the matching access</span></td></tr><tr><td colspan="3"><b>Access client data when given a few existing accesses accesses.checkApp when the provided clientData does not match the existing clientData </b></td></tr><tr><td><test id="2EER"><code>2EER</code></test></td><td>✅</td><td><span class="type"> returns no match</span></td></tr><tr><td colspan="3"><b>Access client data when given a few existing accesses accesses.checkApp when no clientData is provided but existing access has one </b></td></tr><tr><td><test id="DHZQ"><code>DHZQ</code></test></td><td>✅</td><td><span class="type"> returns no match</span></td></tr><tr><td colspan="3"><b>Users pool create pool user </b></td></tr><tr><td><test id="80HI"><code>80HI</code></test></td><td>✅</td><td><span class="type"> succeeds</span></td></tr><tr><td><test id="Y95U"><code>Y95U</code></test></td><td>✅</td><td><span class="type"> contains a generated pool user id</span></td></tr><tr><td><test id="JKN6"><code>JKN6</code></test></td><td>✅</td><td><span class="type"> created a user in the database</span></td></tr><tr><td><test id="YB72"><code>YB72</code></test></td><td>✅</td><td><span class="type"> created the related collections</span></td></tr><tr><td><test id="WBCJ"><code>WBCJ</code></test></td><td>✅</td><td><span class="type"> created the related indexes</span></td></tr><tr><td colspan="3"><b>Users pool get pool size when empty </b></td></tr><tr><td><test id="DHID"><code>DHID</code></test></td><td>✅</td><td><span class="type"> must succeed</span></td></tr><tr><td><test id="LH6N"><code>LH6N</code></test></td><td>✅</td><td><span class="type"> must return 0</span></td></tr><tr><td colspan="3"><b>Users pool get pool size when adding pool users </b></td></tr><tr><td><test id="CTP7"><code>CTP7</code></test></td><td>✅</td><td><span class="type"> succeeds</span></td></tr><tr><td><test id="APQS"><code>APQS</code></test></td><td>✅</td><td><span class="type"> has the right number of pool users</span></td></tr><tr><td colspan="3"><b>Accesses (app) GET / </b></td></tr><tr><td><test id="YEHW"><code>YEHW</code></test></td><td>✅</td><td><span class="type"> must return shared accesses whose permissions are a subset of the current one&#39;s</span></td></tr><tr><td><test id="GLHP"><code>GLHP</code></test></td><td>✅</td><td><span class="type"> must be forbidden to requests with a shared access token</span></td></tr><tr><td colspan="3"><b>Accesses (app) POST / </b></td></tr><tr><td><test id="QVHS"><code>QVHS</code></test></td><td>✅</td><td><span class="type"> must create a new shared access with the sent data and return it</span></td></tr><tr><td><test id="6GR1"><code>6GR1</code></test></td><td>✅</td><td><span class="type"> must forbid trying to create a non-shared access</span></td></tr><tr><td><test id="A4MC"><code>A4MC</code></test></td><td>✅</td><td><span class="type"> must forbid trying to create an access with greater permissions</span></td></tr><tr><td><test id="QN6D"><code>QN6D</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the sent data is badly formatted</span></td></tr><tr><td><test id="4HAE"><code>4HAE</code></test></td><td>✅</td><td><span class="type"> must allow creation of shared accesses with an access that has superior permission on root stream (*)</span></td></tr><tr><td colspan="3"><b>Accesses (app) PUT /<token> </b></td></tr><tr><td><test id="ACUA"><code>ACUA</code></test></td><td>✅</td><td><span class="type"> must modify the access with the sent data</span></td></tr><tr><td><test id="11UZ"><code>11UZ</code></test></td><td>✅</td><td><span class="type"> must forbid trying to modify a non-shared access</span></td></tr><tr><td><test id="3RJC"><code>3RJC</code></test></td><td>✅</td><td><span class="type"> must forbid trying to modify an access with greater permissions</span></td></tr><tr><td><test id="S7G3"><code>S7G3</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the access does not exist</span></td></tr><tr><td><test id="VZBW"><code>VZBW</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the sent data is badly formatted</span></td></tr><tr><td><test id="AZID"><code>AZID</code></test></td><td>✅</td><td><span class="type"> must return a correct error if an access with the same name already exists</span></td></tr><tr><td colspan="3"><b>Accesses (app) DELETE /<token> </b></td></tr><tr><td><test id="5BOO"><code>5BOO</code></test></td><td>✅</td><td><span class="type"> must delete the shared access</span></td></tr><tr><td><test id="VGQS"><code>VGQS</code></test></td><td>✅</td><td><span class="type"> must forbid trying to delete a non-shared access</span></td></tr><tr><td><test id="ZTSY"><code>ZTSY</code></test></td><td>✅</td><td><span class="type"> must forbid trying to delete an access with greater permissions</span></td></tr><tr><td><test id="J32P"><code>J32P</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the access does not exist</span></td></tr><tr><td colspan="3"><b>Accesses (personal) GET / </b></td></tr><tr><td><test id="K5BF"><code>K5BF</code></test></td><td>✅</td><td><span class="type"> must return all accesses (including personal ones)</span></td></tr><tr><td colspan="3"><b>Accesses (personal) POST / </b></td></tr><tr><td><test id="BU9U"><code>BU9U</code></test></td><td>✅</td><td><span class="type"> must create a new shared access with the sent data, returning it</span></td></tr><tr><td><test id="FPUE"><code>FPUE</code></test></td><td>✅</td><td><span class="type"> must create a new app access with the sent data, creating/restoring requested streams</span></td></tr><tr><td><test id="865I"><code>865I</code></test></td><td>✅</td><td><span class="type"> must accept two app accesses with the same name (app ids) but different device names</span></td></tr><tr><td><test id="4Y3Y"><code>4Y3Y</code></test></td><td>✅</td><td><span class="type"> must ignore erroneous requests to create new streams</span></td></tr><tr><td><test id="WSG8"><code>WSG8</code></test></td><td>✅</td><td><span class="type"> must fail if a stream similar to that requested for creation already exists</span></td></tr><tr><td><test id="GVC7"><code>GVC7</code></test></td><td>✅</td><td><span class="type"> must refuse to create new personal accesses (obtained via login only)</span></td></tr><tr><td><test id="YRNE"><code>YRNE</code></test></td><td>✅</td><td><span class="type"> must slugify the new access&#39; predefined token</span></td></tr><tr><td><test id="V3AV"><code>V3AV</code></test></td><td>✅</td><td><span class="type"> must return an error if the sent data is badly formatted</span></td></tr><tr><td><test id="HETK"><code>HETK</code></test></td><td>✅</td><td><span class="type"> must refuse empty <code>defaultName</code> values for streams</span></td></tr><tr><td><test id="YG81"><code>YG81</code></test></td><td>✅</td><td><span class="type"> must return an error if an access with the same token already exists</span></td></tr><tr><td><test id="GZTH"><code>GZTH</code></test></td><td>✅</td><td><span class="type"> must return an error if an access with the same name already exists</span></td></tr><tr><td><test id="4HO6"><code>4HO6</code></test></td><td>✅</td><td><span class="type"> must return an error if an &quot;app&quot; access with the same name (app id) and device name already exists</span></td></tr><tr><td><test id="PO0R"><code>PO0R</code></test></td><td>✅</td><td><span class="type"> must return an error if the device name is set for a non-app access</span></td></tr><tr><td><test id="RWGG"><code>RWGG</code></test></td><td>✅</td><td><span class="type"> must return an error if the given predefined access&#39;s token is a reserved word</span></td></tr><tr><td colspan="3"><b>Accesses (personal) PUT /<token> </b></td></tr><tr><td><test id="66GW"><code>66GW</code></test></td><td>✅</td><td><span class="type"> must modify the shared access with the sent data</span></td></tr><tr><td><test id="F67O"><code>F67O</code></test></td><td>✅</td><td><span class="type"> must modify the personal access with the specified data</span></td></tr><tr><td><test id="U04A"><code>U04A</code></test></td><td>✅</td><td><span class="type"> must return an error if the access does not exist</span></td></tr><tr><td><test id="P2UC"><code>P2UC</code></test></td><td>✅</td><td><span class="type"> must return an error if the sent data is badly formatted</span></td></tr><tr><td><test id="KK1F"><code>KK1F</code></test></td><td>✅</td><td><span class="type"> must return an error if an access with the same name and type already exists</span></td></tr><tr><td colspan="3"><b>Accesses (personal) PUT /<token> forbidden updates of protected fields </b></td></tr><tr><td><test id="4Y59"><code>4Y59</code></test></td><td>✅</td><td><span class="type"> must prevent update of protected fields and throw a forbidden error in strict mode</span></td></tr><tr><td><test id="6KC8"><code>6KC8</code></test></td><td>✅</td><td><span class="type"> must prevent update of protected fields and log a warning in non-strict mode</span></td></tr><tr><td><test id="B8MA"><code>B8MA</code></test></td><td>✅</td><td><span class="type"> must forbid to elevate a read level into a manage level using a contribute access </span></td></tr><tr><td><test id="AMEV"><code>AMEV</code></test></td><td>✅</td><td><span class="type"> must forbid to extend the permission streamIds beyond the authorized context </span></td></tr><tr><td colspan="3"><b>Accesses (personal) DELETE /<token> </b></td></tr><tr><td><test id="S8EK"><code>S8EK</code></test></td><td>✅</td><td><span class="type"> must delete the shared access</span></td></tr><tr><td><test id="5GBI"><code>5GBI</code></test></td><td>✅</td><td><span class="type"> must delete the personal access</span></td></tr><tr><td><test id="NN11"><code>NN11</code></test></td><td>✅</td><td><span class="type"> must return an error if the access does not exist</span></td></tr><tr><td colspan="3"><b>Accesses (personal) POST /check-app </b></td></tr><tr><td><test id="VCH9"><code>VCH9</code></test></td><td>✅</td><td><span class="type"> must return the adjusted permissions structure if no access exists</span></td></tr><tr><td><test id="R8H4"><code>R8H4</code></test></td><td>✅</td><td><span class="type"> must accept requested permissions with &quot;*&quot; for &quot;all streams&quot;</span></td></tr><tr><td><test id="9QNK"><code>9QNK</code></test></td><td>✅</td><td><span class="type"> must return the existing app access if matching</span></td></tr><tr><td><test id="IF33"><code>IF33</code></test></td><td>✅</td><td><span class="type"> must also return the token of the existing mismatching access if any</span></td></tr><tr><td><test id="G5T2"><code>G5T2</code></test></td><td>✅</td><td><span class="type"> must propose fixes to duplicate ids of streams and signal an error when appropriate</span></td></tr><tr><td><test id="MTY1"><code>MTY1</code></test></td><td>✅</td><td><span class="type"> must return an error if the sent data is badly formatted</span></td></tr><tr><td><test id="U5KD"><code>U5KD</code></test></td><td>✅</td><td><span class="type"> must be forbidden to non-personal accesses</span></td></tr><tr><td colspan="3"><b>Account GET / </b></td></tr><tr><td><test id="PHSB"><code>PHSB</code></test></td><td>✅</td><td><span class="type"> must return the user&#39;s account details</span></td></tr><tr><td><test id="K5EI"><code>K5EI</code></test></td><td>✅</td><td><span class="type"> must be forbidden to non-personal accesses</span></td></tr><tr><td colspan="3"><b>Account PUT / </b></td></tr><tr><td><test id="0PPV"><code>0PPV</code></test></td><td>✅</td><td><span class="type"> must modify account details with the sent data, notifying register if e-mail changed</span></td></tr><tr><td><test id="AT0V"><code>AT0V</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the sent data is badly formatted</span></td></tr><tr><td><test id="NZE2"><code>NZE2</code></test></td><td>✅</td><td><span class="type"> must be forbidden to non-personal accesses</span></td></tr><tr><td colspan="3"><b>Account storage space monitoring </b></td></tr><tr><td><test id="NFJQ"><code>NFJQ</code></test></td><td>✅</td><td><span class="type"> must properly compute used storage size for a given user when called</span></td></tr><tr><td><test id="Y445"><code>Y445</code></test></td><td>✅</td><td><span class="type"> must properly compute storage size for all users in nightly script</span></td></tr><tr><td><test id="0QVH"><code>0QVH</code></test></td><td>✅</td><td><span class="type"> must be approximately updated (diff) when adding an attached file</span></td></tr><tr><td><test id="93AP"><code>93AP</code></test></td><td>✅</td><td><span class="type"> must be approximately updated (diff) when deleting an attached file</span></td></tr><tr><td><test id="5WO0"><code>5WO0</code></test></td><td>✅</td><td><span class="type"> must be approximately updated (diff) when deleting an event</span></td></tr><tr><td colspan="3"><b>Account /change-password </b></td></tr><tr><td><test id="6041"><code>6041</code></test></td><td>✅</td><td><span class="type"> must change the password to the given value</span></td></tr><tr><td><test id="STWH"><code>STWH</code></test></td><td>✅</td><td><span class="type"> must return an error if the given old password does not match</span></td></tr><tr><td><test id="8I1N"><code>8I1N</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the sent data is badly formatted</span></td></tr><tr><td><test id="J5VH"><code>J5VH</code></test></td><td>✅</td><td><span class="type"> must be forbidden to non-personal accesses</span></td></tr><tr><td colspan="3"><b>Account /request-password-reset and /reset-password </b></td></tr><tr><td><test id="G1VN"><code>G1VN</code></test></td><td>✅</td><td><span class="type"> &quot;request&quot; must trigger an email with a reset token, store that token, then &quot;reset&quot; must reset the password to the given value</span></td></tr><tr><td><test id="HV0V"><code>HV0V</code></test></td><td>✅</td><td><span class="type"> must not trigger a reset email if mailing is deactivated</span></td></tr><tr><td><test id="VZ1W"><code>VZ1W</code></test></td><td>✅</td><td><span class="type"> must not trigger a reset email if reset mail is deactivated</span></td></tr><tr><td><test id="3P2N"><code>3P2N</code></test></td><td>✅</td><td><span class="type"> must not be possible to use a reset token to illegally change password of another user</span></td></tr><tr><td><test id="J6GB"><code>J6GB</code></test></td><td>✅</td><td><span class="type"> &quot;request&quot; must return an error if the requesting app is not trusted</span></td></tr><tr><td><test id="5K14"><code>5K14</code></test></td><td>✅</td><td><span class="type"> &quot;request&quot; must return an error if sent data is badly formatted</span></td></tr><tr><td><test id="PKBP"><code>PKBP</code></test></td><td>✅</td><td><span class="type"> &quot;reset&quot; must return an error if the reset token is invalid/expired</span></td></tr><tr><td><test id="ON9V"><code>ON9V</code></test></td><td>✅</td><td><span class="type"> &quot;reset&quot; must return an error if the requesting app is not trusted</span></td></tr><tr><td><test id="T5L9"><code>T5L9</code></test></td><td>✅</td><td><span class="type"> &quot;reset&quot; must return an error if sent data is badly formatted</span></td></tr><tr><td colspan="3"><b>Auditing Events </b></td></tr><tr><td><test id="RWIA"><code>RWIA</code></test></td><td>✅</td><td><span class="type"> must not return history when calling events.get</span></td></tr><tr><td colspan="3"><b>Auditing Events deletionMode </b></td></tr><tr><td><test id="FLLW"><code>FLLW</code></test></td><td>✅</td><td><span class="type"> must delete the event&#39;s history when deleting it with deletionMode=keep-nothing</span></td></tr><tr><td><test id="6W0B"><code>6W0B</code></test></td><td>✅</td><td><span class="type"> must minimize the event&#39;s history when deleting it with deletionMode=keep-authors</span></td></tr><tr><td><test id="1DBC"><code>1DBC</code></test></td><td>✅</td><td><span class="type"> must not modify the event&#39;s history when deleting it with deletionMode=keep-everything</span></td></tr><tr><td colspan="3"><b>Auditing Events getOne </b></td></tr><tr><td><test id="YRI7"><code>YRI7</code></test></td><td>✅</td><td><span class="type"> must not return an event&#39;s history when calling getOne with includeHistory flag off</span></td></tr><tr><td><test id="KPQZ"><code>KPQZ</code></test></td><td>✅</td><td><span class="type"> must return an event&#39;s history when calling getOne with includeHistory flag on</span></td></tr><tr><td colspan="3"><b>Auditing Events forceKeepHistory is OFF </b></td></tr><tr><td><test id="PKA9"><code>PKA9</code></test></td><td>✅</td><td><span class="type"> must not generate history when updating an event</span></td></tr><tr><td><test id="TLG6"><code>TLG6</code></test></td><td>✅</td><td><span class="type"> must not generate history of the running event that was stopped because of the start call on another event</span></td></tr><tr><td><test id="DZMK"><code>DZMK</code></test></td><td>✅</td><td><span class="type"> must not generate history when no event was stopped in the procedure of the start call on another event</span></td></tr><tr><td><test id="MB48"><code>MB48</code></test></td><td>✅</td><td><span class="type"> must not generate history when calling stop on a running event</span></td></tr><tr><td colspan="3"><b>Auditing Events forceKeepHistory is ON </b></td></tr><tr><td><test id="0P6S"><code>0P6S</code></test></td><td>✅</td><td><span class="type"> must generate history when updating an event</span></td></tr><tr><td><test id="Y4CH"><code>Y4CH</code></test></td><td>✅</td><td><span class="type"> must generate history of the running event that was stopped because of the start call on another event</span></td></tr><tr><td><test id="M90Z"><code>M90Z</code></test></td><td>✅</td><td><span class="type"> must not generate history when no event was stopped in the procedure of the start call on another event</span></td></tr><tr><td><test id="519W"><code>519W</code></test></td><td>✅</td><td><span class="type"> must generate history when calling stop on a running event</span></td></tr><tr><td colspan="3"><b>Auditing Streams </b></td></tr><tr><td><test id="H1PK"><code>H1PK</code></test></td><td>✅</td><td><span class="type"> must generate events&#39; history when their stream is deleted with  mergeEventsWithParents=true since their streamId is modified</span></td></tr><tr><td><test id="95TJ"><code>95TJ</code></test></td><td>✅</td><td><span class="type"> must delete the events&#39; history when their stream is deleted with  mergeEventsWithParents=false and deletionMode=&#39;keep-nothing&#39;</span></td></tr><tr><td><test id="4U91"><code>4U91</code></test></td><td>✅</td><td><span class="type"> must keep the events&#39; minimal history when their stream is deleted with  mergeEventsWithParents=false and deletionMode=&#39;keep-authors&#39;</span></td></tr><tr><td><test id="D4CY"><code>D4CY</code></test></td><td>✅</td><td><span class="type"> must not delete the events&#39; history when their stream is deleted with  mergeEventsWithParents=false and deletionMode=&#39;keep-everything&#39;</span></td></tr><tr><td colspan="3"><b>Auditing Nightly task </b></td></tr><tr><td><test id="QT0Z"><code>QT0Z</code></test></td><td>❓</td><td><span class="type"> must delete history data from the storage</span></td></tr><tr><td colspan="3"><b>Auth /login </b></td></tr><tr><td><test id="2CV5"><code>2CV5</code></test></td><td>✅</td><td><span class="type"> must authenticate the given credentials, open a session and return the access token</span></td></tr><tr><td><test id="5UMP"><code>5UMP</code></test></td><td>✅</td><td><span class="type"> must reuse the current session if already open</span></td></tr><tr><td><test id="509A"><code>509A</code></test></td><td>✅</td><td><span class="type"> must accept &quot;wildcarded&quot; app ids and origins</span></td></tr><tr><td><test id="ADL4"><code>ADL4</code></test></td><td>✅</td><td><span class="type"> must accept &quot;no origin&quot; (i.e. not a CORS request) if authorized</span></td></tr><tr><td><test id="A7JL"><code>A7JL</code></test></td><td>✅</td><td><span class="type"> must also accept &quot;referer&quot; in place of &quot;origin&quot; (e.g. some browsers do not provide &quot;origin&quot;)</span></td></tr><tr><td><test id="IKNM"><code>IKNM</code></test></td><td>✅</td><td><span class="type"> must also accept &quot;referer&quot; in place of &quot;origin&quot; (e.g. some browsers do not provide &quot;origin&quot;)</span></td></tr><tr><td><test id="1TI6"><code>1TI6</code></test></td><td>✅</td><td><span class="type"> must not be case-sensitive for the username</span></td></tr><tr><td><test id="L7JQ"><code>L7JQ</code></test></td><td>✅</td><td><span class="type"> must return a correct error when the local credentials are missing or invalid</span></td></tr><tr><td><test id="4AQR"><code>4AQR</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the app id is missing or untrusted</span></td></tr><tr><td><test id="NDB0"><code>NDB0</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the origin is missing or does not match the app id</span></td></tr><tr><td><test id="6PQR"><code>6PQR</code></test></td><td>✅</td><td><span class="type"> must support concurrent login request</span></td></tr><tr><td><test id="9WHP"><code>9WHP</code></test></td><td>✅</td><td><span class="type"> must not leak _private object from Result</span></td></tr><tr><td colspan="3"><b>Auth /login when we log into a temporary log file </b></td></tr><tr><td><test id="C03J"><code>C03J</code></test></td><td>✅</td><td><span class="type"> must replace the password in the logs by (hidden) when an error occurs</span></td></tr><tr><td><test id="G0YT"><code>G0YT</code></test></td><td>✅</td><td><span class="type"> must not mention the password in the logs when none is provided</span></td></tr><tr><td colspan="3"><b>Auth /logout </b></td></tr><tr><td><test id="6W5M"><code>6W5M</code></test></td><td>✅</td><td><span class="type"> must terminate the access session and fail to logout a second time (session already expired)</span></td></tr><tr><td><test id="E2MD"><code>E2MD</code></test></td><td>✅</td><td><span class="type"> (or any request) must alternatively accept the access token in the query string</span></td></tr><tr><td colspan="3"><b>Auth SSO support </b></td></tr><tr><td><test id="TIDW"><code>TIDW</code></test></td><td>✅</td><td><span class="type"> GET /who-am-i must return a 404 as it has been deprecated</span></td></tr><tr><td colspan="3"><b>Auth SSO support when deprecated.auth.ssoIsWhoamiActivated is set </b></td></tr><tr><td><test id="6KLF"><code>6KLF</code></test></td><td>✅</td><td><span class="type"> must set the SSO cookie on /login with the access token</span></td></tr><tr><td><test id="QT6T"><code>QT6T</code></test></td><td>✅</td><td><span class="type"> must answer /who-am-i with username and session details if session open</span></td></tr><tr><td><test id="UNPB"><code>UNPB</code></test></td><td>✅</td><td><span class="type"> must clear the SSO cookie on /logout</span></td></tr><tr><td><test id="5G0E"><code>5G0E</code></test></td><td>✅</td><td><span class="type"> must respond /who-am-i with an &quot;unauthorized&quot; error if no cookie is sent</span></td></tr><tr><td colspan="3"><b>Events GET / </b></td></tr><tr><td><test id="WC8C"><code>WC8C</code></test></td><td>✅</td><td><span class="type"> must return the last 20 non-trashed events (sorted descending) by default</span></td></tr><tr><td><test id="U8U9"><code>U8U9</code></test></td><td>✅</td><td><span class="type"> must only return events for the given streams (incl. sub-streams) when set</span></td></tr><tr><td><test id="S0M6"><code>S0M6</code></test></td><td>✅</td><td><span class="type"> must return an error if some of the given streams do not exist</span></td></tr><tr><td><test id="R667"><code>R667</code></test></td><td>✅</td><td><span class="type"> must only return events with the given tag when set</span></td></tr><tr><td><test id="KNJY"><code>KNJY</code></test></td><td>✅</td><td><span class="type"> must only return events with any of the given tags when set</span></td></tr><tr><td><test id="QR4I"><code>QR4I</code></test></td><td>✅</td><td><span class="type"> must only return events of any of the given types when set</span></td></tr><tr><td><test id="TWP8"><code>TWP8</code></test></td><td>✅</td><td><span class="type"> must (unofficially) support a wildcard for event types</span></td></tr><tr><td><test id="7MOU"><code>7MOU</code></test></td><td>✅</td><td><span class="type"> must only return events in the given time period sorted ascending when set</span></td></tr><tr><td><test id="W5IT"><code>W5IT</code></test></td><td>✅</td><td><span class="type"> must take into account fromTime and toTime even if set to 0</span></td></tr><tr><td><test id="Y6SY"><code>Y6SY</code></test></td><td>✅</td><td><span class="type"> must take into account modifiedSince even if set to 0</span></td></tr><tr><td><test id="QNDP"><code>QNDP</code></test></td><td>✅</td><td><span class="type"> must properly exclude period events completed before the given period</span></td></tr><tr><td><test id="5UFW"><code>5UFW</code></test></td><td>✅</td><td><span class="type"> must return ongoing events started before the given time period</span></td></tr><tr><td><test id="S9J4"><code>S9J4</code></test></td><td>✅</td><td><span class="type"> must only return events in the given paging range when set</span></td></tr><tr><td><test id="915E"><code>915E</code></test></td><td>✅</td><td><span class="type"> must return only trashed events when requested</span></td></tr><tr><td><test id="6H0Z"><code>6H0Z</code></test></td><td>✅</td><td><span class="type"> must return all events (trashed or not) when requested</span></td></tr><tr><td><test id="JZYF"><code>JZYF</code></test></td><td>✅</td><td><span class="type"> must return only events modified since the given time when requested</span></td></tr><tr><td><test id="B766"><code>B766</code></test></td><td>✅</td><td><span class="type"> must include event deletions (since that time) when requested</span></td></tr><tr><td><test id="ESLZ"><code>ESLZ</code></test></td><td>❓</td><td><span class="type"> must not keep event deletions past a certain time (cannot test because cannot force-run Mongo&#39;s TTL cleanup task)</span></td></tr><tr><td><test id="V72A"><code>V72A</code></test></td><td>✅</td><td><span class="type"> must only return running period event(s) when requested</span></td></tr><tr><td><test id="68IL"><code>68IL</code></test></td><td>✅</td><td><span class="type"> must return an error if no access token is provided</span></td></tr><tr><td colspan="3"><b>Events GET /<event id>/<file id> </b></td></tr><tr><td><test id="F29M"><code>F29M</code></test></td><td>✅</td><td><span class="type"> must return the attached file with the correct headers</span></td></tr><tr><td><test id="NL65"><code>NL65</code></test></td><td>✅</td><td><span class="type"> must accept a secure read token in the query string instead of the `&quot;Authorization&quot; header</span></td></tr><tr><td><test id="TN27"><code>TN27</code></test></td><td>✅</td><td><span class="type"> must allow a filename path suffix after the file id</span></td></tr><tr><td><test id="LOUB"><code>LOUB</code></test></td><td>✅</td><td><span class="type"> must allow any filename (including special characters)</span></td></tr><tr><td><test id="9NJ0"><code>9NJ0</code></test></td><td>✅</td><td><span class="type"> must refuse an invalid file read token</span></td></tr><tr><td><test id="9HNM"><code>9HNM</code></test></td><td>✅</td><td><span class="type"> must refuse auth via the regular &quot;auth&quot; query string parameter</span></td></tr><tr><td><test id="MMCZ"><code>MMCZ</code></test></td><td>✅</td><td><span class="type"> must return a proper error if trying to get an unknown attachment</span></td></tr><tr><td colspan="3"><b>Events POST / </b></td></tr><tr><td><test id="1GR6"><code>1GR6</code></test></td><td>✅</td><td><span class="type"> must create an event with the sent data, returning it</span></td></tr><tr><td><test id="QSBV"><code>QSBV</code></test></td><td>✅</td><td><span class="type"> must set the event&#39;s time to &quot;now&quot; if missing</span></td></tr><tr><td><test id="6BVW"><code>6BVW</code></test></td><td>✅</td><td><span class="type"> must accept explicit null for optional fields</span></td></tr><tr><td><test id="D2TH"><code>D2TH</code></test></td><td>✅</td><td><span class="type"> must refuse events with no stream id</span></td></tr><tr><td><test id="WN86"><code>WN86</code></test></td><td>✅</td><td><span class="type"> must return a correct error if an event with the same id already exists</span></td></tr><tr><td><test id="94PW"><code>94PW</code></test></td><td>✅</td><td><span class="type"> must not allow reuse of deleted ids (unlike streams)</span></td></tr><tr><td><test id="DRFA"><code>DRFA</code></test></td><td>✅</td><td><span class="type"> must only allow ids that are formatted like cuids</span></td></tr><tr><td><test id="O7Y2"><code>O7Y2</code></test></td><td>✅</td><td><span class="type"> must reject tags that are too long</span></td></tr><tr><td><test id="2885"><code>2885</code></test></td><td>✅</td><td><span class="type"> must fix the tags to an empty array if not set</span></td></tr><tr><td><test id="0IHM"><code>0IHM</code></test></td><td>✅</td><td><span class="type"> must try casting string event content to number if appropriate</span></td></tr><tr><td><test id="H7CN"><code>H7CN</code></test></td><td>✅</td><td><span class="type"> must not stop the running period event if the new event is a mark event (single activity)</span></td></tr><tr><td><test id="UL6Y"><code>UL6Y</code></test></td><td>✅</td><td><span class="type"> must not stop the running period event if the stream allows overlapping</span></td></tr><tr><td><test id="FZ4T"><code>FZ4T</code></test></td><td>✅</td><td><span class="type"> must validate the event&#39;s content if its type is known</span></td></tr><tr><td><test id="EL88"><code>EL88</code></test></td><td>✅</td><td><span class="type"> must not fail when validating the content if passing a string instead of an object</span></td></tr><tr><td><test id="JUM6"><code>JUM6</code></test></td><td>✅</td><td><span class="type"> must return an error if the sent data is badly formatted</span></td></tr><tr><td><test id="5NEL"><code>5NEL</code></test></td><td>✅</td><td><span class="type"> must return an error if the associated stream is unknown</span></td></tr><tr><td><test id="1GGK"><code>1GGK</code></test></td><td>✅</td><td><span class="type"> must return an error if the event&#39;s period overlaps existing periods (single activity)</span></td></tr><tr><td><test id="3S2T"><code>3S2T</code></test></td><td>✅</td><td><span class="type"> must allow the event&#39;s period overlapping existing periods when the stream allows it</span></td></tr><tr><td><test id="Q0L6"><code>Q0L6</code></test></td><td>✅</td><td><span class="type"> must return an error if the assigned stream is trashed</span></td></tr><tr><td><test id="WUSC"><code>WUSC</code></test></td><td>✅</td><td><span class="type"> must not fail (500) when sending an array instead of an object</span></td></tr><tr><td colspan="3"><b>Events POST /start </b></td></tr><tr><td><test id="5C8J"><code>5C8J</code></test></td><td>✅</td><td><span class="type"> must create a running period event stopping any previously running event (single activity)</span></td></tr><tr><td><test id="JHUM"><code>JHUM</code></test></td><td>✅</td><td><span class="type"> must return an error if a period event already exists later (single activity)</span></td></tr><tr><td><test id="7FJZ"><code>7FJZ</code></test></td><td>✅</td><td><span class="type"> must allow starting an event before an existing period when the stream allows overlapping</span></td></tr><tr><td colspan="3"><b>Events POST / (multipart content) </b></td></tr><tr><td><test id="4CUV"><code>4CUV</code></test></td><td>✅</td><td><span class="type"> must create a new event with the uploaded files</span></td></tr><tr><td><test id="HROI"><code>HROI</code></test></td><td>✅</td><td><span class="type"> must properly handle part names containing special chars (e.g. &quot;.&quot;, &quot;$&quot;)</span></td></tr><tr><td><test id="0QGV"><code>0QGV</code></test></td><td>✅</td><td><span class="type"> must return an error if the non-file content part is not JSON</span></td></tr><tr><td><test id="R8ER"><code>R8ER</code></test></td><td>✅</td><td><span class="type"> must return an error if there is more than one non-file content part</span></td></tr><tr><td colspan="3"><b>Events POST /<event id> (multipart content) </b></td></tr><tr><td><test id="ZI01"><code>ZI01</code></test></td><td>✅</td><td><span class="type"> must add the uploaded files to the event as attachments</span></td></tr><tr><td><test id="EUZM"><code>EUZM</code></test></td><td>✅</td><td><span class="type"> must add the uploaded files to the event without replacing existing attachments</span></td></tr><tr><td colspan="3"><b>Events GET /<id> </b></td></tr><tr><td><test id="8GSS"><code>8GSS</code></test></td><td>✅</td><td><span class="type"> allows access at level=read</span></td></tr><tr><td><test id="IBO4"><code>IBO4</code></test></td><td>✅</td><td><span class="type"> denies access without authorization</span></td></tr><tr><td colspan="3"><b>Events PUT /<id> </b></td></tr><tr><td><test id="4QRU"><code>4QRU</code></test></td><td>✅</td><td><span class="type"> must modify the event with the sent data</span></td></tr><tr><td><test id="6B05"><code>6B05</code></test></td><td>✅</td><td><span class="type"> must add/update/remove the specified client data fields without touching the others</span></td></tr><tr><td><test id="C9GL"><code>C9GL</code></test></td><td>✅</td><td><span class="type"> must return the id of the stopped previously running event if any (single activity)</span></td></tr><tr><td><test id="FM3G"><code>FM3G</code></test></td><td>✅</td><td><span class="type"> must accept explicit null for optional fields</span></td></tr><tr><td><test id="BS75"><code>BS75</code></test></td><td>✅</td><td><span class="type"> must validate the event&#39;s content if its type is known</span></td></tr><tr><td><test id="FU83"><code>FU83</code></test></td><td>✅</td><td><span class="type"> must return an error if the event does not exist</span></td></tr><tr><td><test id="W2QL"><code>W2QL</code></test></td><td>✅</td><td><span class="type"> must return an error if the sent data is badly formatted</span></td></tr><tr><td><test id="01B2"><code>01B2</code></test></td><td>✅</td><td><span class="type"> must return an error if the associated stream is unknown</span></td></tr><tr><td><test id="SPN1"><code>SPN1</code></test></td><td>✅</td><td><span class="type"> must return an error if moving a running period event before another existing period event (single activity)</span></td></tr><tr><td><test id="FPEE"><code>FPEE</code></test></td><td>✅</td><td><span class="type"> must return an error if the event&#39;s new period overlaps other events&#39;s (single activity)</span></td></tr><tr><td><test id="CUM3"><code>CUM3</code></test></td><td>✅</td><td><span class="type"> must reject tags that are too long</span></td></tr><tr><td colspan="3"><b>Events PUT /<id> forbidden updates of protected fields </b></td></tr><tr><td><test id="L15U"><code>L15U</code></test></td><td>✅</td><td><span class="type"> must prevent update of protected fields and throw a forbidden error in strict mode</span></td></tr><tr><td><test id="6NZ7"><code>6NZ7</code></test></td><td>✅</td><td><span class="type"> must prevent update of protected fields and log a warning in non-strict mode</span></td></tr><tr><td colspan="3"><b>Events POST /stop </b></td></tr><tr><td><test id="VE5N"><code>VE5N</code></test></td><td>✅</td><td><span class="type"> must stop the previously running period event, returning its id (single activity)</span></td></tr><tr><td><test id="HYQ3"><code>HYQ3</code></test></td><td>✅</td><td><span class="type"> must stop the last running event of the given type when specified</span></td></tr><tr><td><test id="7NH0"><code>7NH0</code></test></td><td>✅</td><td><span class="type"> must accept an <code>id</code> param to specify the event to stop</span></td></tr><tr><td><test id="GPSM"><code>GPSM</code></test></td><td>✅</td><td><span class="type"> must return an error if the specified event does not exist</span></td></tr><tr><td><test id="0Y4J"><code>0Y4J</code></test></td><td>✅</td><td><span class="type"> must return an error if the specified event is not running</span></td></tr><tr><td><test id="KN22"><code>KN22</code></test></td><td>✅</td><td><span class="type"> must return an error if no event is specified and the stream allows overlapping</span></td></tr><tr><td><test id="BMC6"><code>BMC6</code></test></td><td>✅</td><td><span class="type"> must return an error if neither stream nor event is specified</span></td></tr><tr><td colspan="3"><b>Events DELETE /<event id>/<file id> </b></td></tr><tr><td><test id="RW8M"><code>RW8M</code></test></td><td>✅</td><td><span class="type"> must delete the attachment (reference in event + file)</span></td></tr><tr><td><test id="ZLZN"><code>ZLZN</code></test></td><td>✅</td><td><span class="type"> must return an error if not existing</span></td></tr><tr><td colspan="3"><b>Events DELETE /<id> </b></td></tr><tr><td><test id="AT5Y"><code>AT5Y</code></test></td><td>✅</td><td><span class="type"> must flag the event as trashed</span></td></tr><tr><td><test id="73CD"><code>73CD</code></test></td><td>✅</td><td><span class="type"> must delete the event when already trashed including all its attachments</span></td></tr><tr><td colspan="3"><b>Followed slices GET / </b></td></tr><tr><td><test id="TNKS"><code>TNKS</code></test></td><td>✅</td><td><span class="type"> must return all followed slices (ordered by user name, then access token)</span></td></tr><tr><td><test id="U9M4"><code>U9M4</code></test></td><td>✅</td><td><span class="type"> must be forbidden to non-personal accesses</span></td></tr><tr><td colspan="3"><b>Followed slices POST / </b></td></tr><tr><td><test id="HVYA"><code>HVYA</code></test></td><td>✅</td><td><span class="type"> must create a new followed slice with the sent data, returning it</span></td></tr><tr><td><test id="BULL"><code>BULL</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the sent data is badly formatted</span></td></tr><tr><td><test id="GPZK"><code>GPZK</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the same followed slice (url and token) already exists</span></td></tr><tr><td><test id="RYNB"><code>RYNB</code></test></td><td>✅</td><td><span class="type"> must return a correct error if a followed slice with the same name already exists</span></td></tr><tr><td colspan="3"><b>Followed slices PUT /<id> </b></td></tr><tr><td><test id="LM08"><code>LM08</code></test></td><td>✅</td><td><span class="type"> must modify the followed slice with the sent data</span></td></tr><tr><td><test id="QFGH"><code>QFGH</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the followed slice does not exist</span></td></tr><tr><td><test id="RUQE"><code>RUQE</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the sent data is badly formatted</span></td></tr><tr><td><test id="T256"><code>T256</code></test></td><td>✅</td><td><span class="type"> must return a correct error if a followed slice with the same name already exists</span></td></tr><tr><td colspan="3"><b>Followed slices DELETE /<id> </b></td></tr><tr><td><test id="U7LY"><code>U7LY</code></test></td><td>✅</td><td><span class="type"> must delete the followed slice</span></td></tr><tr><td><test id="UATV"><code>UATV</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the followed slice does not exist</span></td></tr><tr><td colspan="3"><b>Methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with streams schema </b></td></tr><tr><td><test id="DMGV"><code>DMGV</code></test></td><td>✅</td><td><span class="type"> must throw a forbidden error if &quot;ignoreProtectedFieldUpdates&quot; is null</span></td></tr><tr><td><test id="Z51K"><code>Z51K</code></test></td><td>✅</td><td><span class="type"> must throw a forbidden error if &quot;ignoreProtectedFieldUpdates&quot; is false</span></td></tr><tr><td><test id="EUKL"><code>EUKL</code></test></td><td>✅</td><td><span class="type"> must not throw any error if &quot;ignoreProtectedFieldUpdates&quot; is true but print a warn log</span></td></tr><tr><td colspan="3"><b>Methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with events schema </b></td></tr><tr><td><test id="0RQM"><code>0RQM</code></test></td><td>✅</td><td><span class="type"> must throw a forbidden error if &quot;ignoreProtectedFieldUpdates&quot; is null</span></td></tr><tr><td><test id="6TK9"><code>6TK9</code></test></td><td>✅</td><td><span class="type"> must throw a forbidden error if &quot;ignoreProtectedFieldUpdates&quot; is false</span></td></tr><tr><td><test id="IJ4M"><code>IJ4M</code></test></td><td>✅</td><td><span class="type"> must not throw any error if &quot;ignoreProtectedFieldUpdates&quot; is true but print a warn log</span></td></tr><tr><td colspan="3"><b>Methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with accesses schema </b></td></tr><tr><td><test id="GP6C"><code>GP6C</code></test></td><td>✅</td><td><span class="type"> must throw a forbidden error if &quot;ignoreProtectedFieldUpdates&quot; is null</span></td></tr><tr><td><test id="MUC0"><code>MUC0</code></test></td><td>✅</td><td><span class="type"> must throw a forbidden error if &quot;ignoreProtectedFieldUpdates&quot; is false</span></td></tr><tr><td><test id="QGDA"><code>QGDA</code></test></td><td>✅</td><td><span class="type"> must not throw any error if &quot;ignoreProtectedFieldUpdates&quot; is true but print a warn log</span></td></tr><tr><td colspan="3"><b>Mailing helper methods </b></td></tr><tr><td><test id="HGVD"><code>HGVD</code></test></td><td>✅</td><td><span class="type"> should throw an error if mailing method is invalid</span></td></tr><tr><td><test id="OKQ2"><code>OKQ2</code></test></td><td>✅</td><td><span class="type"> should throw an error if mailing method is missing</span></td></tr><tr><td colspan="3"><b>Mailing helper methods using Mandrill validating request body </b></td></tr><tr><td><test id="GU60"><code>GU60</code></test></td><td>✅</td><td><span class="type"> should not be empty</span></td></tr><tr><td><test id="8JJU"><code>8JJU</code></test></td><td>✅</td><td><span class="type"> should contain a valid auth key</span></td></tr><tr><td><test id="G906"><code>G906</code></test></td><td>✅</td><td><span class="type"> should contain a valid recipient</span></td></tr><tr><td><test id="KBE0"><code>KBE0</code></test></td><td>✅</td><td><span class="type"> should contain a valid substitution of variables</span></td></tr><tr><td><test id="2ABY"><code>2ABY</code></test></td><td>✅</td><td><span class="type"> should contain valid tags</span></td></tr><tr><td colspan="3"><b>Mailing helper methods using Microservice validating request body </b></td></tr><tr><td><test id="LHCB"><code>LHCB</code></test></td><td>✅</td><td><span class="type"> should not be empty</span></td></tr><tr><td><test id="9UEU"><code>9UEU</code></test></td><td>✅</td><td><span class="type"> should contain a valid auth key</span></td></tr><tr><td><test id="1Y6K"><code>1Y6K</code></test></td><td>✅</td><td><span class="type"> should contain a valid recipient</span></td></tr><tr><td><test id="UT8M"><code>UT8M</code></test></td><td>✅</td><td><span class="type"> should contain a valid substitution of variables</span></td></tr><tr><td colspan="3"><b>ArrayStream </b></td></tr><tr><td><test id="TWNI"><code>TWNI</code></test></td><td>✅</td><td><span class="type"> must return an array preceded by a comma when called with parameter isFirst=false</span></td></tr><tr><td colspan="3"><b>ArrayStream testing around the array size limit </b></td></tr><tr><td><test id="U21Z"><code>U21Z</code></test></td><td>✅</td><td><span class="type"> must return a valid array when receiving limit-3 items</span></td></tr><tr><td><test id="MKNL"><code>MKNL</code></test></td><td>✅</td><td><span class="type"> must return a valid array when receiving limit-2 items</span></td></tr><tr><td><test id="MUPF"><code>MUPF</code></test></td><td>✅</td><td><span class="type"> must return a valid array when receiving limit-1 items</span></td></tr><tr><td><test id="CM4Q"><code>CM4Q</code></test></td><td>✅</td><td><span class="type"> must return a valid array when receiving limit+0 items</span></td></tr><tr><td><test id="F8S9"><code>F8S9</code></test></td><td>✅</td><td><span class="type"> must return a valid array when receiving limit+1 items</span></td></tr><tr><td><test id="6T4V"><code>6T4V</code></test></td><td>✅</td><td><span class="type"> must return a valid array when receiving limit+2 items</span></td></tr><tr><td><test id="QBOS"><code>QBOS</code></test></td><td>✅</td><td><span class="type"> must return a valid array when receiving limit+3 items</span></td></tr><tr><td colspan="3"><b>ArrayStream testing with small number of items </b></td></tr><tr><td><test id="69F6"><code>69F6</code></test></td><td>✅</td><td><span class="type"> must return a valid array when receiving 0 item(s)</span></td></tr><tr><td><test id="BJRT"><code>BJRT</code></test></td><td>✅</td><td><span class="type"> must return a valid array when receiving 1 item(s)</span></td></tr><tr><td><test id="YJI0"><code>YJI0</code></test></td><td>✅</td><td><span class="type"> must return a valid array when receiving 2 item(s)</span></td></tr><tr><td><test id="EKQQ"><code>EKQQ</code></test></td><td>✅</td><td><span class="type"> must return a valid array when receiving 3 item(s)</span></td></tr><tr><td colspan="3"><b>DrainStream </b></td></tr><tr><td><test id="AFWR"><code>AFWR</code></test></td><td>✅</td><td><span class="type"> must be fed objects and return them in the callback</span></td></tr><tr><td><test id="23UQ"><code>23UQ</code></test></td><td>✅</td><td><span class="type"> must return an error when the provided limit is exceeded</span></td></tr><tr><td colspan="3"><b>Access permissions Events </b></td></tr><tr><td><test id="1AK1"><code>1AK1</code></test></td><td>✅</td><td><span class="type"> <code>get</code> must only return events in accessible streams</span></td></tr><tr><td><test id="NKI5"><code>NKI5</code></test></td><td>✅</td><td><span class="type"> <code>get</code> must return all events when permissions are defined for &quot;all streams&quot; (*)</span></td></tr><tr><td><test id="FZ97"><code>FZ97</code></test></td><td>✅</td><td><span class="type"> <code>get</code> must only return events with accessible tags</span></td></tr><tr><td><test id="1DH6"><code>1DH6</code></test></td><td>✅</td><td><span class="type"> <code>get</code> must only return events in accessible streams <em>and</em> with accessible tags when both are defined</span></td></tr><tr><td><test id="5360"><code>5360</code></test></td><td>✅</td><td><span class="type"> <code>get</code> (or any request) must alternatively accept the access token in the query string</span></td></tr><tr><td><test id="KTM1"><code>KTM1</code></test></td><td>✅</td><td><span class="type"> must forbid getting an attached file if permissions are insufficient</span></td></tr><tr><td><test id="2773"><code>2773</code></test></td><td>✅</td><td><span class="type"> must forbid creating events for &#39;read-only&#39; streams</span></td></tr><tr><td><test id="Y0TI"><code>Y0TI</code></test></td><td>✅</td><td><span class="type"> must forbid creating events for &#39;read-only&#39; tags</span></td></tr><tr><td><test id="ZKZZ"><code>ZKZZ</code></test></td><td>✅</td><td><span class="type"> must forbid updating events for &#39;read-only&#39; streams</span></td></tr><tr><td><test id="9LKQ"><code>9LKQ</code></test></td><td>✅</td><td><span class="type"> must forbid updating events for &#39;read-only&#39; tags</span></td></tr><tr><td><test id="RHFS"><code>RHFS</code></test></td><td>✅</td><td><span class="type"> must forbid stopping events for &#39;read-only&#39; streams</span></td></tr><tr><td><test id="3SGZ"><code>3SGZ</code></test></td><td>✅</td><td><span class="type"> must forbid stopping events for &#39;read-only&#39; tags</span></td></tr><tr><td><test id="4H62"><code>4H62</code></test></td><td>✅</td><td><span class="type"> must forbid deleting events for &#39;read-only&#39; streams</span></td></tr><tr><td><test id="GBKV"><code>GBKV</code></test></td><td>✅</td><td><span class="type"> must forbid deleting events for &#39;read-only&#39; tags</span></td></tr><tr><td><test id="Y38T"><code>Y38T</code></test></td><td>✅</td><td><span class="type"> must allow creating events for &#39;contribute&#39; streams</span></td></tr><tr><td><test id="NIDD"><code>NIDD</code></test></td><td>✅</td><td><span class="type"> must allow creating events for &#39;contribute&#39; tags</span></td></tr><tr><td colspan="3"><b>Access permissions Streams </b></td></tr><tr><td><test id="BSFP"><code>BSFP</code></test></td><td>✅</td><td><span class="type"> <code>get</code> must only return streams for which permissions are defined</span></td></tr><tr><td><test id="R4IA"><code>R4IA</code></test></td><td>✅</td><td><span class="type"> must forbid creating child streams in &#39;read-only&#39; streams</span></td></tr><tr><td><test id="KHI7"><code>KHI7</code></test></td><td>✅</td><td><span class="type"> must forbid creating child streams in &#39;contribute&#39; streams</span></td></tr><tr><td><test id="MCDP"><code>MCDP</code></test></td><td>✅</td><td><span class="type"> must forbid deleting child streams in &#39;contribute&#39; streams</span></td></tr><tr><td><test id="7B6P"><code>7B6P</code></test></td><td>✅</td><td><span class="type"> must forbid updating &#39;contribute&#39; streams</span></td></tr><tr><td><test id="RG5R"><code>RG5R</code></test></td><td>✅</td><td><span class="type"> must forbid deleting &#39;contribute&#39; streams</span></td></tr><tr><td><test id="O1AZ"><code>O1AZ</code></test></td><td>✅</td><td><span class="type"> must allow creating child streams in &#39;managed&#39; streams</span></td></tr><tr><td><test id="5QPU"><code>5QPU</code></test></td><td>✅</td><td><span class="type"> must forbid moving streams into non-&#39;managed&#39; parent streams</span></td></tr><tr><td><test id="KP1Q"><code>KP1Q</code></test></td><td>✅</td><td><span class="type"> must allow deleting child streams in &#39;managed&#39; streams</span></td></tr><tr><td><test id="HHSS"><code>HHSS</code></test></td><td>✅</td><td><span class="type"> must recursively apply permissions to the streams&#39; child streams</span></td></tr><tr><td><test id="NJ1A"><code>NJ1A</code></test></td><td>✅</td><td><span class="type"> must allow access to all streams when no specific stream permissions are defined</span></td></tr><tr><td><test id="ZGK0"><code>ZGK0</code></test></td><td>✅</td><td><span class="type"> must allow access to all streams when only tag permissions are defined</span></td></tr><tr><td><test id="UYB2"><code>UYB2</code></test></td><td>✅</td><td><span class="type"> must only allow access to set streams when both tag and stream permissions are defined</span></td></tr><tr><td colspan="3"><b>Access permissions Auth and change tracking </b></td></tr><tr><td><test id="YE49"><code>YE49</code></test></td><td>✅</td><td><span class="type"> must handle optional caller id in auth (in addition to token)</span></td></tr><tr><td colspan="3"><b>Access permissions Auth and change tracking custom auth step (e.g. to validate/parse caller id) </b></td></tr><tr><td><test id="IA9K"><code>IA9K</code></test></td><td>✅</td><td><span class="type"> must be supported and deny access when failing</span></td></tr><tr><td><test id="H58R"><code>H58R</code></test></td><td>✅</td><td><span class="type"> must allow access when successful</span></td></tr><tr><td><test id="ISE4"><code>ISE4</code></test></td><td>✅</td><td><span class="type"> must fail properly (i.e. not granting access) when the custom function crashes</span></td></tr><tr><td><test id="P4OM"><code>P4OM</code></test></td><td>✅</td><td><span class="type"> must validate the custom function at startup time</span></td></tr><tr><td colspan="3"><b>Profile (app) GET /public </b></td></tr><tr><td><test id="FWG1"><code>FWG1</code></test></td><td>✅</td><td><span class="type"> must return publicly shared key-value profile info</span></td></tr><tr><td colspan="3"><b>Profile (app) GET /app </b></td></tr><tr><td><test id="13DL"><code>13DL</code></test></td><td>✅</td><td><span class="type"> must return key-value settings for the current app</span></td></tr><tr><td><test id="J37U"><code>J37U</code></test></td><td>✅</td><td><span class="type"> must refuse requests with a shared access token</span></td></tr><tr><td><test id="GYBN"><code>GYBN</code></test></td><td>✅</td><td><span class="type"> must refuse requests with a personal access token</span></td></tr><tr><td colspan="3"><b>Profile (app) PUT /app </b></td></tr><tr><td><test id="1QFB"><code>1QFB</code></test></td><td>✅</td><td><span class="type"> must add/update/remove the specified keys without touching the others</span></td></tr><tr><td><test id="0H9A"><code>0H9A</code></test></td><td>✅</td><td><span class="type"> must refuse requests with a shared access token</span></td></tr><tr><td><test id="JC5F"><code>JC5F</code></test></td><td>✅</td><td><span class="type"> must refuse requests with a personal access token</span></td></tr><tr><td colspan="3"><b>Profile (personal) GET </b></td></tr><tr><td><test id="J61R"><code>J61R</code></test></td><td>✅</td><td><span class="type"> /public must return publicly shared key-value profile info</span></td></tr><tr><td><test id="HIMS"><code>HIMS</code></test></td><td>✅</td><td><span class="type"> /private must return private key-value profile info</span></td></tr><tr><td><test id="36B1"><code>36B1</code></test></td><td>✅</td><td><span class="type"> must return an appropriate error for other paths</span></td></tr><tr><td><test id="FUJA"><code>FUJA</code></test></td><td>✅</td><td><span class="type"> &quot;private&quot; must be forbidden to non-personal accesses</span></td></tr><tr><td colspan="3"><b>Profile (personal) PUT </b></td></tr><tr><td><test id="M28R"><code>M28R</code></test></td><td>✅</td><td><span class="type"> /public must add/update/remove the specified keys without touching the others</span></td></tr><tr><td><test id="WU9C"><code>WU9C</code></test></td><td>✅</td><td><span class="type"> /private must add/update/remove the specified keys without touching the others</span></td></tr><tr><td><test id="2AS6"><code>2AS6</code></test></td><td>✅</td><td><span class="type"> must create the profile if not existing</span></td></tr><tr><td><test id="Q99E"><code>Q99E</code></test></td><td>✅</td><td><span class="type"> must return an appropriate error for other paths</span></td></tr><tr><td><test id="T565"><code>T565</code></test></td><td>✅</td><td><span class="type"> must be forbidden to non-personal accesses</span></td></tr><tr><td colspan="3"><b>Result toObject() </b></td></tr><tr><td><test id="NKHF"><code>NKHF</code></test></td><td>✅</td><td><span class="type"> must return the result&#39;s content when not storing streams</span></td></tr><tr><td><test id="MHAS"><code>MHAS</code></test></td><td>✅</td><td><span class="type"> must return the result content when storing streams</span></td></tr><tr><td><test id="6P4Z"><code>6P4Z</code></test></td><td>✅</td><td><span class="type"> must return an error object when attempting to serialize streams containing an amountof objects exceeding the limit</span></td></tr><tr><td><test id="TTEL"><code>TTEL</code></test></td><td>✅</td><td><span class="type"> must return an error when storing piped streams</span></td></tr><tr><td><test id="H2GC"><code>H2GC</code></test></td><td>❓</td><td><span class="type"> must return an error when the core pipeline crashes because of size</span></td></tr><tr><td colspan="3"><b>Root GET / </b></td></tr><tr><td><test id="UA7B"><code>UA7B</code></test></td><td>✅</td><td><span class="type"> should return basic server meta information as JSON when requested</span></td></tr><tr><td><test id="TO50"><code>TO50</code></test></td><td>✅</td><td><span class="type"> should return basic server meta information as text otherwise</span></td></tr><tr><td><test id="TS3D"><code>TS3D</code></test></td><td>✅</td><td><span class="type"> should return an error if trying to access an unknown user account</span></td></tr><tr><td colspan="3"><b>Root All requests: </b></td></tr><tr><td><test id="TJHO"><code>TJHO</code></test></td><td>✅</td><td><span class="type"> should return correct common HTTP headers + meta data in response body</span></td></tr><tr><td><test id="OQ3G"><code>OQ3G</code></test></td><td>✅</td><td><span class="type"> should return meta data in response body for errors as well</span></td></tr><tr><td><test id="P06Y"><code>P06Y</code></test></td><td>✅</td><td><span class="type"> should properly translate the Host header&#39;s username (i.e. subdomain)</span></td></tr><tr><td><test id="R3H5"><code>R3H5</code></test></td><td>✅</td><td><span class="type"> should translate the username in subdomain also when it only contains numbers</span></td></tr><tr><td><test id="5IQK"><code>5IQK</code></test></td><td>✅</td><td><span class="type"> should support POSTing &quot;urlencoded&quot; content with _json and _auth fields</span></td></tr><tr><td><test id="2YEI"><code>2YEI</code></test></td><td>✅</td><td><span class="type"> should support POSTing &quot;urlencoded&quot; content with _json, _method (PUT) and _auth fields</span></td></tr><tr><td><test id="VJTP"><code>VJTP</code></test></td><td>✅</td><td><span class="type"> should support POSTing &quot;urlencoded&quot; content with _json, _method (DELETE) and _auth fields</span></td></tr><tr><td><test id="6D5O"><code>6D5O</code></test></td><td>✅</td><td><span class="type"> should properly handle JSON errors when POSTing &quot;urlencoded&quot; content with _json field</span></td></tr><tr><td><test id="J2WP"><code>J2WP</code></test></td><td>✅</td><td><span class="type"> should update the access&#39;s &quot;last used&quot; time and <em>internal</em> request counters</span></td></tr><tr><td colspan="3"><b>Root OPTIONS / </b></td></tr><tr><td><test id="PDMA"><code>PDMA</code></test></td><td>✅</td><td><span class="type"> should return OK</span></td></tr><tr><td colspan="3"><b>Root GET /access-info </b></td></tr><tr><td><test id="0MI8"><code>0MI8</code></test></td><td>✅</td><td><span class="type"> must return current access information</span></td></tr><tr><td colspan="3"><b>Root Accept Basic Auth request </b></td></tr><tr><td><test id="0MI9"><code>0MI9</code></test></td><td>✅</td><td><span class="type"> must accept the <a href="https://token@user.domain/">https://token@user.domain/</a> AUTH schema</span></td></tr><tr><td><test id="0MI0"><code>0MI0</code></test></td><td>✅</td><td><span class="type"> must accept the <a href="https://token:anystring@user.domain/">https://token:anystring@user.domain/</a> AUTH schema</span></td></tr><tr><td><test id="3W3Y"><code>3W3Y</code></test></td><td>✅</td><td><span class="type"> must accept the <a href="https://token:@user.domain/">https://token:@user.domain/</a> AUTH schema</span></td></tr><tr><td><test id="M54U"><code>M54U</code></test></td><td>✅</td><td><span class="type"> must return a 401 error when basic auth is missing using <a href="https://@user.domain/">https://@user.domain/</a></span></td></tr><tr><td><test id="TPH4"><code>TPH4</code></test></td><td>✅</td><td><span class="type"> must return a 403 error when using <a href="https://:token@user.domain/">https://:token@user.domain/</a></span></td></tr><tr><td colspan="3"><b>Root POST / (i.e. batch call) </b></td></tr><tr><td><test id="ORT3"><code>ORT3</code></test></td><td>✅</td><td><span class="type"> must execute the given method calls and return the results</span></td></tr><tr><td><test id="TVPI"><code>TVPI</code></test></td><td>✅</td><td><span class="type"> must execute the method calls containing events.get and return the results</span></td></tr><tr><td><test id="WGVY"><code>WGVY</code></test></td><td>✅</td><td><span class="type"> must return an error if the sent data is badly formatted</span></td></tr><tr><td colspan="3"><b>Service GET /service/info </b></td></tr><tr><td><test id="FR4K"><code>FR4K</code></test></td><td>✅</td><td><span class="type"> must return all service info</span></td></tr><tr><td colspan="3"><b>Socket.IO </b></td></tr><tr><td><test id="25M0"><code>25M0</code></test></td><td>✅</td><td><span class="type"> must dynamically create a namespace for the user</span></td></tr><tr><td><test id="VGKH"><code>VGKH</code></test></td><td>✅</td><td><span class="type"> must connect to a user with a dash in the username</span></td></tr><tr><td><test id="OSOT"><code>OSOT</code></test></td><td>✅</td><td><span class="type"> must refuse connection if no valid access token is provided</span></td></tr><tr><td colspan="3"><b>Socket.IO calling API methods </b></td></tr><tr><td><test id="FI6F"><code>FI6F</code></test></td><td>✅</td><td><span class="type"> must properly route method call messages for events and return the results, including meta</span></td></tr><tr><td><test id="O3SW"><code>O3SW</code></test></td><td>✅</td><td><span class="type"> must properly route method call messages for streams and return the results</span></td></tr><tr><td><test id="NGUZ"><code>NGUZ</code></test></td><td>✅</td><td><span class="type"> must not crash when callers omit the callback</span></td></tr><tr><td><test id="ACA3"><code>ACA3</code></test></td><td>✅</td><td><span class="type"> must fail if the called target does not exist</span></td></tr><tr><td><test id="L8WJ"><code>L8WJ</code></test></td><td>✅</td><td><span class="type"> must fail if the called method does not exist</span></td></tr><tr><td><test id="SNCW"><code>SNCW</code></test></td><td>✅</td><td><span class="type"> must return API errors properly, including meta</span></td></tr><tr><td><test id="744Z"><code>744Z</code></test></td><td>✅</td><td><span class="type"> must notify other sockets for the same user about events changes</span></td></tr><tr><td><test id="GJLT"><code>GJLT</code></test></td><td>✅</td><td><span class="type"> must notify other sockets for the same user (only) about streams changes</span></td></tr><tr><td><test id="JC99"><code>JC99</code></test></td><td>✅</td><td><span class="type"> must notify on each change</span></td></tr><tr><td colspan="3"><b>Socket.IO when spawning 2 api-server processes, A and B </b></td></tr><tr><td><test id="JJRA"><code>JJRA</code></test></td><td>✅</td><td><span class="type"> changes made in A notify clients of B</span></td></tr><tr><td colspan="3"><b>Streams GET / </b></td></tr><tr><td><test id="TG78"><code>TG78</code></test></td><td>✅</td><td><span class="type"> must return non-trashed streams (as a tree) by default</span></td></tr><tr><td><test id="DPWG"><code>DPWG</code></test></td><td>✅</td><td><span class="type"> must return all streams (trashed or not) when requested</span></td></tr><tr><td><test id="RDD5"><code>RDD5</code></test></td><td>✅</td><td><span class="type"> must include stream deletions (since the given time) when requested</span></td></tr><tr><td><test id="T8AM"><code>T8AM</code></test></td><td>✅</td><td><span class="type"> must include stream deletions even when the given time is 0</span></td></tr><tr><td><test id="1M8A"><code>1M8A</code></test></td><td>❓</td><td><span class="type"> must not keep stream deletions past a certain time (cannot test because cannot force-run Mongo&#39;s TTL cleanup task)</span></td></tr><tr><td><test id="W9VC"><code>W9VC</code></test></td><td>✅</td><td><span class="type"> must return a correct 401 error if no access token is provided</span></td></tr><tr><td><test id="UVWK"><code>UVWK</code></test></td><td>✅</td><td><span class="type"> must return child streams when providing a parent stream id</span></td></tr><tr><td><test id="AJZL"><code>AJZL</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the parent stream is unknown</span></td></tr><tr><td colspan="3"><b>Streams POST / </b></td></tr><tr><td><test id="ENVV"><code>ENVV</code></test></td><td>✅</td><td><span class="type"> must create a new &quot;root&quot; stream with the sent data, returning it</span></td></tr><tr><td><test id="A2HP"><code>A2HP</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the sent data is badly formatted</span></td></tr><tr><td><test id="GGS3"><code>GGS3</code></test></td><td>✅</td><td><span class="type"> must return a correct error if a stream with the same id already exists</span></td></tr><tr><td><test id="UHKI"><code>UHKI</code></test></td><td>✅</td><td><span class="type"> must allow reuse of deleted ids</span></td></tr><tr><td><test id="8WGG"><code>8WGG</code></test></td><td>✅</td><td><span class="type"> must accept explicit null for optional fields</span></td></tr><tr><td><test id="NR4D"><code>NR4D</code></test></td><td>✅</td><td><span class="type"> must fail if a sibling stream with the same name already exists</span></td></tr><tr><td><test id="JINC"><code>JINC</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the sent data is not valid JSON</span></td></tr><tr><td><test id="CHDM"><code>CHDM</code></test></td><td>✅</td><td><span class="type"> must create a new child stream (with predefined id) when providing a parent stream id</span></td></tr><tr><td><test id="88VQ"><code>88VQ</code></test></td><td>✅</td><td><span class="type"> must return an error if the new stream&#39;s parentId is the empty string</span></td></tr><tr><td><test id="84RK"><code>84RK</code></test></td><td>✅</td><td><span class="type"> must slugify the new stream&#39;s predefined id</span></td></tr><tr><td><test id="2B3H"><code>2B3H</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the parent stream is unknown</span></td></tr><tr><td><test id="8JB5"><code>8JB5</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the given predefined stream&#39;s id is &quot;null&quot;</span></td></tr><tr><td><test id="6TPQ"><code>6TPQ</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the given predefined stream&#39;s id is &quot;*&quot;</span></td></tr><tr><td colspan="3"><b>Streams PUT /<id> </b></td></tr><tr><td><test id="SO48"><code>SO48</code></test></td><td>✅</td><td><span class="type"> must modify the stream with the sent data</span></td></tr><tr><td><test id="5KNJ"><code>5KNJ</code></test></td><td>✅</td><td><span class="type"> must accept explicit null for optional fields</span></td></tr><tr><td><test id="0ANV"><code>0ANV</code></test></td><td>✅</td><td><span class="type"> must add/update/remove the specified client data fields without touching the others</span></td></tr><tr><td><test id="PL2G"><code>PL2G</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the stream does not exist</span></td></tr><tr><td><test id="JWT4"><code>JWT4</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the sent data is badly formatted</span></td></tr><tr><td><test id="344I"><code>344I</code></test></td><td>✅</td><td><span class="type"> must fail if a sibling stream with the same name already exists</span></td></tr><tr><td><test id="PT1E"><code>PT1E</code></test></td><td>✅</td><td><span class="type"> must move the stream under the given parent when specified</span></td></tr><tr><td><test id="HJBH"><code>HJBH</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the new parent stream is unknown</span></td></tr><tr><td colspan="3"><b>Streams PUT /<id> forbidden updates of protected fields </b></td></tr><tr><td><test id="PN1H"><code>PN1H</code></test></td><td>✅</td><td><span class="type"> must fail and throw a forbidden error in strict mode</span></td></tr><tr><td><test id="A3WC"><code>A3WC</code></test></td><td>✅</td><td><span class="type"> must succeed by ignoring protected fields and log a warning in non-strict mode</span></td></tr><tr><td colspan="3"><b>Streams DELETE /<id> </b></td></tr><tr><td><test id="205A"><code>205A</code></test></td><td>✅</td><td><span class="type"> must flag the specified stream as trashed</span></td></tr><tr><td><test id="TEFF"><code>TEFF</code></test></td><td>✅</td><td><span class="type"> must delete the stream when already trashed with its descendants if there are no linked events</span></td></tr><tr><td><test id="LVTR"><code>LVTR</code></test></td><td>✅</td><td><span class="type"> must return a correct error if there are linked events and the related parameter is missing</span></td></tr><tr><td><test id="RKEU"><code>RKEU</code></test></td><td>✅</td><td><span class="type"> must reject the deletion of a root stream with mergeEventsWithParent=true</span></td></tr><tr><td><test id="26V0"><code>26V0</code></test></td><td>✅</td><td><span class="type"> must reassign the linked events to the deleted stream&#39;s parent when specified</span></td></tr><tr><td><test id="KLD8"><code>KLD8</code></test></td><td>✅</td><td><span class="type"> must delete the linked events when mergeEventsWithParent is false</span></td></tr><tr><td><test id="1U1M"><code>1U1M</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the item is unknown</span></td></tr><tr><td colspan="3"><b>System (ex-register) POST /create-user </b></td></tr><tr><td><test id="0G7C"><code>0G7C</code></test></td><td>✅</td><td><span class="type"> must not send a welcome email if mailing is deactivated</span></td></tr><tr><td><test id="TWBF"><code>TWBF</code></test></td><td>✅</td><td><span class="type"> must not send a welcome email if welcome mail is deactivated</span></td></tr><tr><td colspan="3"><b>System (ex-register) POST /create-user when email sending really works </b></td></tr><tr><td><test id="FUTR"><code>FUTR</code></test></td><td>✅</td><td><span class="type"> must create a new user with the sent data, sending a welcome email</span></td></tr><tr><td colspan="3"><b>System (ex-register) POST /create-user when it just replies OK </b></td></tr><tr><td><test id="9K71"><code>9K71</code></test></td><td>✅</td><td><span class="type"> must run the process but not save anything for test username &quot;recla&quot;</span></td></tr><tr><td><test id="ZG1L"><code>ZG1L</code></test></td><td>✅</td><td><span class="type"> must support the old &quot;/register&quot; path for backwards-compatibility</span></td></tr><tr><td><test id="VGF5"><code>VGF5</code></test></td><td>✅</td><td><span class="type"> must return a correct 400 error if the sent data is badly formatted</span></td></tr><tr><td><test id="ABI5"><code>ABI5</code></test></td><td>✅</td><td><span class="type"> must return a correct 400 error if the language property is above 5 characters</span></td></tr><tr><td><test id="OVI4"><code>OVI4</code></test></td><td>✅</td><td><span class="type"> must return a correct 400 error if the language property is the empty string</span></td></tr><tr><td><test id="RD10"><code>RD10</code></test></td><td>✅</td><td><span class="type"> must return a correct 400 error if a user with the same user name already exists</span></td></tr><tr><td><test id="NPJE"><code>NPJE</code></test></td><td>✅</td><td><span class="type"> must return a correct 400 error if a user with the same email address already exists</span></td></tr><tr><td><test id="Y5JB"><code>Y5JB</code></test></td><td>✅</td><td><span class="type"> must return a correct 404 error when authentication is invalid</span></td></tr><tr><td><test id="GF3L"><code>GF3L</code></test></td><td>✅</td><td><span class="type"> must return a correct error if the content type is wrong</span></td></tr><tr><td colspan="3"><b>System (ex-register) POST /create-user when we log into a temporary log file </b></td></tr><tr><td><test id="Y69B"><code>Y69B</code></test></td><td>✅</td><td><span class="type"> must replace the passwordHash in the logs by (hidden) when the authentication is invalid</span></td></tr><tr><td><test id="MEJ9"><code>MEJ9</code></test></td><td>✅</td><td><span class="type"> must replace the passwordHash in the logs by (hidden) when the payload is invalid (here parameters)</span></td></tr><tr><td><test id="CO6H"><code>CO6H</code></test></td><td>✅</td><td><span class="type"> must not mention the passwordHash in the logs when none is provided</span></td></tr><tr><td colspan="3"><b>System (ex-register) GET /user-info/{username} </b></td></tr><tr><td><test id="9C1A"><code>9C1A</code></test></td><td>✅</td><td><span class="type"> must return user information (including time of last account use)</span></td></tr><tr><td><test id="FNJ5"><code>FNJ5</code></test></td><td>✅</td><td><span class="type"> must return a correct 404 error when authentication is invalid</span></td></tr><tr><td colspan="3"><b>Uploads middleware hasFileUpload </b></td></tr><tr><td><test id="GY5H"><code>GY5H</code></test></td><td>✅</td><td><span class="type"> should parse file uploads</span></td></tr><tr><td colspan="3"><b>Notifications #serverReady </b></td></tr><tr><td><test id="B76G"><code>B76G</code></test></td><td>✅</td><td><span class="type"> notifies internal listeners</span></td></tr><tr><td><test id="SRAU"><code>SRAU</code></test></td><td>✅</td><td><span class="type"> notifies axon listeners</span></td></tr><tr><td colspan="3"><b>Notifications #accountChanged </b></td></tr><tr><td><test id="P6ZD"><code>P6ZD</code></test></td><td>✅</td><td><span class="type"> notifies internal listeners</span></td></tr><tr><td><test id="Q96S"><code>Q96S</code></test></td><td>✅</td><td><span class="type"> notifies axon listeners</span></td></tr><tr><td colspan="3"><b>Notifications #accessesChanged </b></td></tr><tr><td><test id="P5CG"><code>P5CG</code></test></td><td>✅</td><td><span class="type"> notifies internal listeners</span></td></tr><tr><td><test id="VSN6"><code>VSN6</code></test></td><td>✅</td><td><span class="type"> notifies axon listeners</span></td></tr><tr><td colspan="3"><b>Notifications #followedSlicesChanged </b></td></tr><tr><td><test id="VU4A"><code>VU4A</code></test></td><td>✅</td><td><span class="type"> notifies internal listeners</span></td></tr><tr><td><test id="UD2B"><code>UD2B</code></test></td><td>✅</td><td><span class="type"> notifies axon listeners</span></td></tr><tr><td colspan="3"><b>Notifications #streamsChanged </b></td></tr><tr><td><test id="LDUQ"><code>LDUQ</code></test></td><td>✅</td><td><span class="type"> notifies internal listeners</span></td></tr><tr><td><test id="BUR1"><code>BUR1</code></test></td><td>✅</td><td><span class="type"> notifies axon listeners</span></td></tr><tr><td colspan="3"><b>Notifications #eventsChanged </b></td></tr><tr><td><test id="N8RI"><code>N8RI</code></test></td><td>✅</td><td><span class="type"> notifies internal listeners</span></td></tr><tr><td><test id="TRMW"><code>TRMW</code></test></td><td>✅</td><td><span class="type"> notifies axon listeners</span></td></tr><tr><td colspan="3"><b>Authentication hasProperties </b></td></tr><tr><td><test id="IKAI"><code>IKAI</code></test></td><td>✅</td><td><span class="type"> returns true if all properties exist</span></td></tr><tr><td><test id="K2PZ"><code>K2PZ</code></test></td><td>✅</td><td><span class="type"> returns false if not all properties exist</span></td></tr><tr><td><test id="U2NA"><code>U2NA</code></test></td><td>✅</td><td><span class="type"> returns false if null is given</span></td></tr><tr><td><test id="WJ7J"><code>WJ7J</code></test></td><td>✅</td><td><span class="type"> returns false if a string is given</span></td></tr><tr><td colspan="3"><b>TryCoerceStringValues </b></td></tr><tr><td><test id="DTZ1"><code>DTZ1</code></test></td><td>✅</td><td><span class="type"> should behave as documented in the method</span></td></tr><tr><td><test id="X26S"><code>X26S</code></test></td><td>✅</td><td><span class="type"> doesn&#39;t create keys in object</span></td></tr><tr><td><test id="4MHH"><code>4MHH</code></test></td><td>✅</td><td><span class="type"> should convert to array</span></td></tr><tr><td><test id="X8PY"><code>X8PY</code></test></td><td>✅</td><td><span class="type"> number conversion works</span></td></tr><tr><td colspan="3"><b>NatsPublisher </b></td></tr><tr><td><test id="S386"><code>S386</code></test></td><td>✅</td><td><span class="type"> should construct</span></td></tr><tr><td><test id="I21M"><code>I21M</code></test></td><td>✅</td><td><span class="type"> delivers messages to &quot;USERNAME.sok1&quot;</span></td></tr><tr><td colspan="3"><b>NatsSubscriber </b></td></tr><tr><td><test id="DMMP"><code>DMMP</code></test></td><td>✅</td><td><span class="type"> should construct</span></td></tr><tr><td colspan="3"><b>NatsSubscriber when subscribed to "foobar" subscribe("USERNAME") </b></td></tr><tr><td><test id="4MAI"><code>4MAI</code></test></td><td>✅</td><td><span class="type"> accepts messages from USERNAME.sok1 and dispatches them to sinks</span></td></tr><tr><td><test id="47BP"><code>47BP</code></test></td><td>✅</td><td><span class="type"> ignores messages from other users</span></td></tr><tr><td colspan="3"><b>NatsSubscriber when subscribed to "foobar" unsubscribe() </b></td></tr><tr><td><test id="L49E"><code>L49E</code></test></td><td>✅</td><td><span class="type"> should unsubscribe from NATS</span></td></tr><tr><td colspan="3"><b>Webhooks GET / when using an app token </b></td></tr><tr><td><test id="R5KD"><code>R5KD</code></test></td><td>✅</td><td><span class="type"> should return a status 200 with a webhooks object which is an array</span></td></tr><tr><td><test id="67CX"><code>67CX</code></test></td><td>✅</td><td><span class="type"> should fetch all webhooks reachable by an app token</span></td></tr><tr><td><test id="WSJG"><code>WSJG</code></test></td><td>✅</td><td><span class="type"> should not fetch any Webhook outside its scope</span></td></tr><tr><td colspan="3"><b>Webhooks GET / when using a personal token </b></td></tr><tr><td><test id="6MNC"><code>6MNC</code></test></td><td>✅</td><td><span class="type"> should return a status 200 with a webhooks object which is an array</span></td></tr><tr><td><test id="4YFQ"><code>4YFQ</code></test></td><td>✅</td><td><span class="type"> should fetch all webhooks for the user</span></td></tr><tr><td colspan="3"><b>Webhooks GET / when using a shared token </b></td></tr><tr><td><test id="NC0J"><code>NC0J</code></test></td><td>✅</td><td><span class="type"> should return a status 403 with a forbidden error</span></td></tr><tr><td colspan="3"><b>Webhooks GET /:webhookId when using an app token when fetching an existing webhook inside its scope </b></td></tr><tr><td><test id="XMB7"><code>XMB7</code></test></td><td>✅</td><td><span class="type"> should return a status 200 with a webhook object</span></td></tr><tr><td colspan="3"><b>Webhooks GET /:webhookId when using an app token when fetching an existing webhook outside of its scope </b></td></tr><tr><td><test id="BDC2"><code>BDC2</code></test></td><td>✅</td><td><span class="type"> should return a status 403 with a forbidden error</span></td></tr><tr><td colspan="3"><b>Webhooks GET /:webhookId when using an app token when fetching an unexistant webhook </b></td></tr><tr><td><test id="O6MM"><code>O6MM</code></test></td><td>✅</td><td><span class="type"> should return a status 404 with a unknown resource error</span></td></tr><tr><td colspan="3"><b>Webhooks GET /:webhookId when using a personal token </b></td></tr><tr><td><test id="D8YQ"><code>D8YQ</code></test></td><td>✅</td><td><span class="type"> should return a status 200 with a webhook object</span></td></tr><tr><td colspan="3"><b>Webhooks GET /:webhookId when using a shared token </b></td></tr><tr><td><test id="604H"><code>604H</code></test></td><td>✅</td><td><span class="type"> should return a status 403 with a forbidden error</span></td></tr><tr><td colspan="3"><b>Webhooks POST / when using an app token when providing a valid webhook </b></td></tr><tr><td><test id="Z1XD"><code>Z1XD</code></test></td><td>✅</td><td><span class="type"> should return a status 201 with the created webhook</span></td></tr><tr><td><test id="XKLU"><code>XKLU</code></test></td><td>✅</td><td><span class="type"> should save it to the storage</span></td></tr><tr><td colspan="3"><b>Webhooks POST / when using an app token when providing an existing url </b></td></tr><tr><td><test id="60OQ"><code>60OQ</code></test></td><td>✅</td><td><span class="type"> should return a status 400 with a collision error error</span></td></tr><tr><td colspan="3"><b>Webhooks POST / when using an app token when providing invalid parameters when url is not a string </b></td></tr><tr><td><test id="3VIU"><code>3VIU</code></test></td><td>✅</td><td><span class="type"> should return a status 400 with a invalid parameters error</span></td></tr><tr><td colspan="3"><b>Webhooks POST / when using a shared token when providing a valid webhook </b></td></tr><tr><td><test id="LN79"><code>LN79</code></test></td><td>✅</td><td><span class="type"> should return a status 403 with a forbidden error</span></td></tr><tr><td colspan="3"><b>Webhooks POST / when using a personal token when providing a valid webhook </b></td></tr><tr><td><test id="3AZO"><code>3AZO</code></test></td><td>✅</td><td><span class="type"> should return a status 403 with a forbidden error</span></td></tr><tr><td colspan="3"><b>Webhooks PUT /:webhookId when using an app token when updating an existing webhook when changing a valid parameter </b></td></tr><tr><td><test id="C9FU"><code>C9FU</code></test></td><td>✅</td><td><span class="type"> should return a status 200 with the updated webhook</span></td></tr><tr><td><test id="JSOH"><code>JSOH</code></test></td><td>✅</td><td><span class="type"> should apply the changes to the storage</span></td></tr><tr><td colspan="3"><b>Webhooks PUT /:webhookId when using an app token when updating an existing webhook when changing a readonly parameter </b></td></tr><tr><td><test id="PW4I"><code>PW4I</code></test></td><td>✅</td><td><span class="type"> should return a status 403 with an invalid parameter error</span></td></tr><tr><td colspan="3"><b>Webhooks PUT /:webhookId when using an app token when updating a webhook outside its scope </b></td></tr><tr><td><test id="8T2G"><code>8T2G</code></test></td><td>✅</td><td><span class="type"> should return a status 403 with a forbidden error</span></td></tr><tr><td colspan="3"><b>Webhooks PUT /:webhookId when using an app token when updating an unexistant webhook </b></td></tr><tr><td><test id="AR5R"><code>AR5R</code></test></td><td>✅</td><td><span class="type"> should return a status 404 with an unknown resource error</span></td></tr><tr><td colspan="3"><b>Webhooks PUT /:webhookId when using a personal token when providing valid parameters </b></td></tr><tr><td><test id="LCKN"><code>LCKN</code></test></td><td>✅</td><td><span class="type"> should return a status 200 with the updated webhook</span></td></tr><tr><td colspan="3"><b>Webhooks PUT /:webhookId when using a shared token when providing valid parameters </b></td></tr><tr><td><test id="TMIZ"><code>TMIZ</code></test></td><td>✅</td><td><span class="type"> should return a status 403 with a forbidden error</span></td></tr><tr><td colspan="3"><b>Webhooks DELETE /:webhookId when using an app token when deleting an existing webhook </b></td></tr><tr><td><test id="A0CG"><code>A0CG</code></test></td><td>✅</td><td><span class="type"> should return a status 200 with the webhook deletion</span></td></tr><tr><td><test id="KA98"><code>KA98</code></test></td><td>✅</td><td><span class="type"> should delete it in the storage</span></td></tr><tr><td colspan="3"><b>Webhooks DELETE /:webhookId when using an app token when deleting an unexistant webhook </b></td></tr><tr><td><test id="ZPRT"><code>ZPRT</code></test></td><td>✅</td><td><span class="type"> should return a status 404 with an unknown resource error</span></td></tr><tr><td colspan="3"><b>Webhooks DELETE /:webhookId when using an app token when deleting an already deleted webhook </b></td></tr><tr><td><test id="5UX7"><code>5UX7</code></test></td><td>✅</td><td><span class="type"> should return a status 404 with an unknown resource error</span></td></tr><tr><td colspan="3"><b>Webhooks DELETE /:webhookId when using an app token when deleting a webhook outside of its scope </b></td></tr><tr><td><test id="7O0F"><code>7O0F</code></test></td><td>✅</td><td><span class="type"> should return a status 403 with a forbidden error</span></td></tr><tr><td colspan="3"><b>Webhooks DELETE /:webhookId when using a personal token when deleting an existing webhook </b></td></tr><tr><td><test id="P6X4"><code>P6X4</code></test></td><td>✅</td><td><span class="type"> should return a status 200 with the webhook deletion</span></td></tr><tr><td colspan="3"><b>Webhooks DELETE /:webhookId when using a shared token when deleting an existing webhook </b></td></tr><tr><td><test id="OZZB"><code>OZZB</code></test></td><td>✅</td><td><span class="type"> should return a status 403 with a forbidden error</span></td></tr><tr><td colspan="3"><b>Webhooks POST /:webhookId/test when using an app token when the webhook exists when the URL is valid </b></td></tr><tr><td><test id="ZM2B"><code>ZM2B</code></test></td><td>✅</td><td><span class="type"> should return a status 200 with a webhook object</span></td></tr><tr><td><test id="Q7KL"><code>Q7KL</code></test></td><td>✅</td><td><span class="type"> should send a POST request to the URL</span></td></tr><tr><td colspan="3"><b>Webhooks POST /:webhookId/test when using an app token when the webhook exists when the URL is invalid </b></td></tr><tr><td><test id="KLRO"><code>KLRO</code></test></td><td>✅</td><td><span class="type"> should return a status 400 with an error object</span></td></tr><tr><td colspan="3"><b>Webhooks POST /:webhookId/test when using an app token when the webhook does not exist </b></td></tr><tr><td><test id="KXA8"><code>KXA8</code></test></td><td>✅</td><td><span class="type"> should return a status 404 with a unknown resource error</span></td></tr><tr><td colspan="3"><b>Webhooks POST /:webhookId/test when using an app token when the webhook is outside of its scope </b></td></tr><tr><td><test id="KZJD"><code>KZJD</code></test></td><td>✅</td><td><span class="type"> should return a status 403 with a forbidden error</span></td></tr><tr><td colspan="3"><b>Webhooks POST /:webhookId/test when using a personal token when the webhook exists </b></td></tr><tr><td><test id="HYZZ"><code>HYZZ</code></test></td><td>✅</td><td><span class="type"> should return a status 200 with a webhook object</span></td></tr><tr><td><test id="SBI7"><code>SBI7</code></test></td><td>✅</td><td><span class="type"> should send a POST request to the URL</span></td></tr><tr><td colspan="3"><b>Webhooks POST /:webhookId/test when using a shared token when the webhook exists </b></td></tr><tr><td><test id="J2PL"><code>J2PL</code></test></td><td>✅</td><td><span class="type"> should return a status 403 with a forbidden error</span></td></tr></tbody></table></div></section><section id="services-business"> <h3 id="business">business</h3>
<div class="content"><div class="meta"></div><h4 id="summary">Summary</h4>
<table class="definitions"><tr><th><code>Number of tests</code></th><td>74</td></tr><tr><th><code>Passes ✅</code></th><td>74</td></tr><tr><th><code>Pending ❓</code></th><td>0</td></tr><tr><th><code>Failures ❌</code></th><td>0</td></tr></table><h4 id="tests">Tests</h4>
<table> <thead><tr><th> 
Id</th><th> 
Status</th><th>Test</th></tr></thead><tbody><tr><td colspan="3"><b>Manage InfluxDB data (business.series.*) </b></td></tr><tr><td><test id="8GFH"><code>8GFH</code></test></td><td>✅</td><td><span class="type"> should allow writing to a series</span></td></tr><tr><td colspan="3"><b>Webhook send() when sending to an existing endpoint when the endpoint answers ASAP </b></td></tr><tr><td><test id="Q7B2"><code>Q7B2</code></test></td><td>✅</td><td><span class="type"> should send it</span></td></tr><tr><td><test id="FICW"><code>FICW</code></test></td><td>✅</td><td><span class="type"> should add a log to runs</span></td></tr><tr><td><test id="2VRK"><code>2VRK</code></test></td><td>✅</td><td><span class="type"> should add the correct status to the last run</span></td></tr><tr><td><test id="AOCP"><code>AOCP</code></test></td><td>✅</td><td><span class="type"> should add the correct timestamp to the last run</span></td></tr><tr><td><test id="2M6F"><code>2M6F</code></test></td><td>✅</td><td><span class="type"> should increment runCount</span></td></tr><tr><td><test id="S1CY"><code>S1CY</code></test></td><td>✅</td><td><span class="type"> should not increment failCount</span></td></tr><tr><td><test id="22X1"><code>22X1</code></test></td><td>✅</td><td><span class="type"> should send the meta</span></td></tr><tr><td colspan="3"><b>Webhook send() when sending to an existing endpoint when the endpoint answers with a long delay </b></td></tr><tr><td><test id="SRDL"><code>SRDL</code></test></td><td>✅</td><td><span class="type"> should send the second message after the first</span></td></tr><tr><td colspan="3"><b>Webhook send() when sending to an unexistant endpoint </b></td></tr><tr><td><test id="6UJH"><code>6UJH</code></test></td><td>✅</td><td><span class="type"> should add a log to runs</span></td></tr><tr><td><test id="VKUA"><code>VKUA</code></test></td><td>✅</td><td><span class="type"> should add the no status to the last run</span></td></tr><tr><td><test id="40UZ"><code>40UZ</code></test></td><td>✅</td><td><span class="type"> should add the correct timestamp to the last run</span></td></tr><tr><td><test id="UE17"><code>UE17</code></test></td><td>✅</td><td><span class="type"> should increment runCount</span></td></tr><tr><td><test id="UJ2Y"><code>UJ2Y</code></test></td><td>✅</td><td><span class="type"> should increment failCount</span></td></tr><tr><td><test id="V5NH"><code>V5NH</code></test></td><td>✅</td><td><span class="type"> should increment currentRetries</span></td></tr><tr><td colspan="3"><b>Webhook send() when scheduling for a retry when the notifications service is down </b></td></tr><tr><td><test id="E5VQ"><code>E5VQ</code></test></td><td>✅</td><td><span class="type"> should save the run</span></td></tr><tr><td><test id="XP7G"><code>XP7G</code></test></td><td>✅</td><td><span class="type"> should increment currentRetries</span></td></tr><tr><td><test id="9AL1"><code>9AL1</code></test></td><td>✅</td><td><span class="type"> should schedule for a retry</span></td></tr><tr><td><test id="OHLY"><code>OHLY</code></test></td><td>✅</td><td><span class="type"> should send scheduled messages after an interval</span></td></tr><tr><td><test id="1VIT"><code>1VIT</code></test></td><td>✅</td><td><span class="type"> should reset error tracking properties</span></td></tr><tr><td colspan="3"><b>Webhook send() when throttling frequent calls </b></td></tr><tr><td><test id="73TG"><code>73TG</code></test></td><td>✅</td><td><span class="type"> should only send the message once</span></td></tr><tr><td><test id="WPMH"><code>WPMH</code></test></td><td>✅</td><td><span class="type"> should accumulate messages</span></td></tr><tr><td><test id="YLWK"><code>YLWK</code></test></td><td>✅</td><td><span class="type"> should schedule for a retry after minInterval</span></td></tr><tr><td><test id="OZGP"><code>OZGP</code></test></td><td>✅</td><td><span class="type"> should send scheduled messages after an interval</span></td></tr><tr><td><test id="86OP"><code>86OP</code></test></td><td>✅</td><td><span class="type"> should remove the timeout afterwards</span></td></tr><tr><td colspan="3"><b>Webhook send() when the webhook becomes inactive after failures </b></td></tr><tr><td><test id="768L"><code>768L</code></test></td><td>✅</td><td><span class="type"> should run 5 times</span></td></tr><tr><td><test id="PX10"><code>PX10</code></test></td><td>✅</td><td><span class="type"> should update the state to inactive</span></td></tr><tr><td><test id="BLNP"><code>BLNP</code></test></td><td>✅</td><td><span class="type"> should update the stored version</span></td></tr><tr><td><test id="ODNM"><code>ODNM</code></test></td><td>✅</td><td><span class="type"> should not run anymore</span></td></tr><tr><td colspan="3"><b>Webhook send() when the runs array gets shifted </b></td></tr><tr><td><test id="1MK2"><code>1MK2</code></test></td><td>✅</td><td><span class="type"> should only save 3 items</span></td></tr><tr><td><test id="FYOR"><code>FYOR</code></test></td><td>✅</td><td><span class="type"> should rotate the runs</span></td></tr><tr><td><test id="XDAF"><code>XDAF</code></test></td><td>✅</td><td><span class="type"> should rotate the runs more</span></td></tr><tr><td colspan="3"><b>BatchRequest .parse </b></td></tr><tr><td><test id="QJ6L"><code>QJ6L</code></test></td><td>✅</td><td><span class="type"> should parse the happy case</span></td></tr><tr><td><test id="VV2O"><code>VV2O</code></test></td><td>✅</td><td><span class="type"> accepts an empty batch</span></td></tr><tr><td><test id="0NWO"><code>0NWO</code></test></td><td>✅</td><td><span class="type"> throws if format is missing or wrong</span></td></tr><tr><td><test id="881Y"><code>881Y</code></test></td><td>✅</td><td><span class="type"> throws if another type is passed in</span></td></tr><tr><td><test id="2PZ0"><code>2PZ0</code></test></td><td>✅</td><td><span class="type"> throws if envelope doesn&#39;t have a data attribute</span></td></tr><tr><td colspan="3"><b>BatchRequestElement .parse(obj) </b></td></tr><tr><td><test id="AGQK"><code>AGQK</code></test></td><td>✅</td><td><span class="type"> should parse a good looking object</span></td></tr><tr><td><test id="LWME"><code>LWME</code></test></td><td>✅</td><td><span class="type"> fails if input is not an Object</span></td></tr><tr><td><test id="BU7Q"><code>BU7Q</code></test></td><td>✅</td><td><span class="type"> fails if eventId is missing or the wrong type</span></td></tr><tr><td colspan="3"><b>DataMatrix .parse(obj) </b></td></tr><tr><td><test id="576J"><code>576J</code></test></td><td>✅</td><td><span class="type"> should accept the happy path</span></td></tr><tr><td><test id="IQTE"><code>IQTE</code></test></td><td>✅</td><td><span class="type"> refuses if not an object</span></td></tr><tr><td><test id="WQGB"><code>WQGB</code></test></td><td>✅</td><td><span class="type"> refuses if format is not flatJSON</span></td></tr><tr><td><test id="34RS"><code>34RS</code></test></td><td>✅</td><td><span class="type"> refuses if fields are not strings</span></td></tr><tr><td><test id="M5BI"><code>M5BI</code></test></td><td>✅</td><td><span class="type"> refuses if points is not an array</span></td></tr><tr><td><test id="V0SH"><code>V0SH</code></test></td><td>✅</td><td><span class="type"> refuses if field names are not correct</span></td></tr><tr><td><test id="SBU1"><code>SBU1</code></test></td><td>✅</td><td><span class="type"> refuses if data cannot be coerced</span></td></tr><tr><td colspan="3"><b>DataMatrix #eachRow </b></td></tr><tr><td><test id="QUQ3"><code>QUQ3</code></test></td><td>✅</td><td><span class="type"> should iterate over all matrix rows</span></td></tr><tr><td colspan="3"><b>DataMatrix #transform </b></td></tr><tr><td><test id="L03R"><code>L03R</code></test></td><td>✅</td><td><span class="type"> should call fn for each cell</span></td></tr><tr><td><test id="7BRV"><code>7BRV</code></test></td><td>✅</td><td><span class="type"> should store the return value in the matrix</span></td></tr><tr><td colspan="3"><b>DataMatrix #minmax() </b></td></tr><tr><td><test id="QGY6"><code>QGY6</code></test></td><td>✅</td><td><span class="type"> returns the minimum and maximum timestamp used</span></td></tr><tr><td><test id="ROK8"><code>ROK8</code></test></td><td>✅</td><td><span class="type"> throws an error if the matrix is empty</span></td></tr><tr><td><test id="79DA"><code>79DA</code></test></td><td>✅</td><td><span class="type"> throws an error if the timestamp is missing</span></td></tr><tr><td colspan="3"><b>Business.series.Row toStruct </b></td></tr><tr><td><test id="NJ4G"><code>NJ4G</code></test></td><td>✅</td><td><span class="type"> should return a js object for the row</span></td></tr><tr><td colspan="3"><b>Business.series.Repository with stubbed out connection </b></td></tr><tr><td><test id="0UEA"><code>0UEA</code></test></td><td>✅</td><td><span class="type"> should produce series objects for events</span></td></tr><tr><td colspan="3"><b>Business.types.TypeRepository type list update </b></td></tr><tr><td><test id="WMDW"><code>WMDW</code></test></td><td>✅</td><td><span class="type"> should work (must be called manually)</span></td></tr><tr><td><test id="6VL6"><code>6VL6</code></test></td><td>✅</td><td><span class="type"> should fail gracefully</span></td></tr><tr><td colspan="3"><b>Business.types.TypeRepository basic types like mass/kg </b></td></tr><tr><td><test id="EEWV"><code>EEWV</code></test></td><td>✅</td><td><span class="type"> should be known</span></td></tr><tr><td><test id="J0CJ"><code>J0CJ</code></test></td><td>✅</td><td><span class="type"> should return a type instance allowing conversion</span></td></tr><tr><td><test id="8WI1"><code>8WI1</code></test></td><td>✅</td><td><span class="type"> should throw when conversion fails</span></td></tr><tr><td><test id="WKCS"><code>WKCS</code></test></td><td>✅</td><td><span class="type"> should coerce to number during validation</span></td></tr><tr><td colspan="3"><b>Business.types.TypeRepository complex types like position/wgs84 </b></td></tr><tr><td><test id="05LA"><code>05LA</code></test></td><td>✅</td><td><span class="type"> should be known</span></td></tr><tr><td><test id="0QZ3"><code>0QZ3</code></test></td><td>✅</td><td><span class="type"> should return a complex type instance</span></td></tr><tr><td colspan="3"><b>Business.types.TypeRepository complex types on several levels like message/facebook </b></td></tr><tr><td><test id="D0GT"><code>D0GT</code></test></td><td>✅</td><td><span class="type"> should return the correct value type for all fields</span></td></tr><tr><td><test id="3BC9"><code>3BC9</code></test></td><td>✅</td><td><span class="type"> should return the correct value type for optional fields</span></td></tr><tr><td><test id="IVPF"><code>IVPF</code></test></td><td>✅</td><td><span class="type"> should resolve nested fields</span></td></tr><tr><td><test id="5PMM"><code>5PMM</code></test></td><td>✅</td><td><span class="type"> does NOT handle requiredFields fully yet: only surface requirements are returned</span></td></tr><tr><td colspan="3"><b>Business.types.TypeRepository placeholder types like picture/attached </b></td></tr><tr><td><test id="78HI"><code>78HI</code></test></td><td>✅</td><td><span class="type"> should be known</span></td></tr><tr><td><test id="85BQ"><code>85BQ</code></test></td><td>✅</td><td><span class="type"> should return a type instance allowing conversion</span></td></tr><tr><td colspan="3"><b>Business.types.TypeRepository series types like series:mass/kg </b></td></tr><tr><td><test id="SQNQ"><code>SQNQ</code></test></td><td>✅</td><td><span class="type"> should be known</span></td></tr><tr><td><test id="IR3B"><code>IR3B</code></test></td><td>✅</td><td><span class="type"> should inform about fields correctly</span></td></tr><tr><td colspan="3"><b>Business.types.TypeValidator </b></td></tr><tr><td><test id="AE3Q"><code>AE3Q</code></test></td><td>✅</td><td><span class="type"> should be produced via a type repository</span></td></tr><tr><td><test id="JT1F"><code>JT1F</code></test></td><td>✅</td><td><span class="type"> should validate simple types</span></td></tr><tr><td><test id="QIVH"><code>QIVH</code></test></td><td>✅</td><td><span class="type"> should validate complex types</span></td></tr></tbody></table></div></section><section id="services-hfs-server"> <h3 id="hfs-server">hfs-server</h3>
<div class="content"><div class="meta"></div><h4 id="summary">Summary</h4>
<table class="definitions"><tr><th><code>Number of tests</code></th><td>43</td></tr><tr><th><code>Passes ✅</code></th><td>43</td></tr><tr><th><code>Pending ❓</code></th><td>0</td></tr><tr><th><code>Failures ❌</code></th><td>0</td></tr></table><h4 id="tests">Tests</h4>
<table> <thead><tr><th> 
Id</th><th> 
Status</th><th>Test</th></tr></thead><tbody><tr><td colspan="3"><b>Storing BATCH data in a HF series Use Case: Store data in InfluxDB, Verification on either half </b></td></tr><tr><td><test id="Q2IS"><code>Q2IS</code></test></td><td>✅</td><td><span class="type"> should store data correctly</span></td></tr><tr><td colspan="3"><b>Storing BATCH data in a HF series POST /:user_name/series/batch </b></td></tr><tr><td><test id="QHM5"><code>QHM5</code></test></td><td>✅</td><td><span class="type"> should fail without &#39;Authorization&#39; header</span></td></tr><tr><td colspan="3"><b>Storing BATCH data in a HF series POST /:user_name/series/batch when the token has no permissions on the event </b></td></tr><tr><td><test id="R57L"><code>R57L</code></test></td><td>✅</td><td><span class="type"> fails</span></td></tr><tr><td colspan="3"><b>Storing BATCH data in a HF series POST /:user_name/series/batch when using a metadata updater stub </b></td></tr><tr><td><test id="OO01"><code>OO01</code></test></td><td>✅</td><td><span class="type"> should schedule a metadata update on every store</span></td></tr><tr><td colspan="3"><b>Querying data from a HF series </b></td></tr><tr><td><test id="I2ZH"><code>I2ZH</code></test></td><td>✅</td><td><span class="type"> should refuse a query for an unknown user</span></td></tr><tr><td><test id="EYCA"><code>EYCA</code></test></td><td>✅</td><td><span class="type"> should refuse a query missing the authorization token</span></td></tr><tr><td><test id="OINY"><code>OINY</code></test></td><td>✅</td><td><span class="type"> should refuse a query containing an unauthorized token</span></td></tr><tr><td><test id="Q991"><code>Q991</code></test></td><td>✅</td><td><span class="type"> should return an unknown resource error when querying data for an nonexistent event id</span></td></tr><tr><td><test id="QMC7"><code>QMC7</code></test></td><td>✅</td><td><span class="type"> should refuse a query containing parameters with the wrong format</span></td></tr><tr><td><test id="HGVV"><code>HGVV</code></test></td><td>✅</td><td><span class="type"> should refuse a query when toTime is before fromTime</span></td></tr><tr><td colspan="3"><b>Storing data in a HF series Use Case: Store data in InfluxDB, Verification on either half </b></td></tr><tr><td><test id="GZIZ"><code>GZIZ</code></test></td><td>✅</td><td><span class="type"> should store data correctly</span></td></tr><tr><td><test id="KC15"><code>KC15</code></test></td><td>✅</td><td><span class="type"> should return data once stored</span></td></tr><tr><td colspan="3"><b>Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success </b></td></tr><tr><td><test id="N3PM"><code>N3PM</code></test></td><td>✅</td><td><span class="type"> stores data into InfluxDB</span></td></tr><tr><td><test id="RESC"><code>RESC</code></test></td><td>✅</td><td><span class="type"> should reject non-JSON bodies</span></td></tr><tr><td><test id="KT1R"><code>KT1R</code></test></td><td>✅</td><td><span class="type"> responds with headers that allow CORS on OPTIONS</span></td></tr><tr><td><test id="H1CG"><code>H1CG</code></test></td><td>✅</td><td><span class="type"> responds with headers that allow CORS on POST</span></td></tr><tr><td colspan="3"><b>Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success when request is malformed </b></td></tr><tr><td><test id="96HC"><code>96HC</code></test></td><td>✅</td><td><span class="type"> should be rejected (format is not flatJSON)</span></td></tr><tr><td><test id="38W3"><code>38W3</code></test></td><td>✅</td><td><span class="type"> should be rejected (matrix is not square - not enough fields)</span></td></tr><tr><td><test id="GJL4"><code>GJL4</code></test></td><td>✅</td><td><span class="type"> should be rejected (value types are not all valid)</span></td></tr><tr><td><test id="JJRO"><code>JJRO</code></test></td><td>✅</td><td><span class="type"> should be rejected (missing timestamp column)</span></td></tr><tr><td><test id="LKFG"><code>LKFG</code></test></td><td>✅</td><td><span class="type"> should be rejected (missing value column for a simple input)</span></td></tr><tr><td colspan="3"><b>Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success when using a metadata updater stub </b></td></tr><tr><td><test id="GU3L"><code>GU3L</code></test></td><td>✅</td><td><span class="type"> should schedule a metadata update on every store</span></td></tr><tr><td colspan="3"><b>Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth failure </b></td></tr><tr><td><test id="NLAW"><code>NLAW</code></test></td><td>✅</td><td><span class="type"> refuses invalid/unauthorized accesses</span></td></tr><tr><td colspan="3"><b>Storing data in a HF series POST /events/EVENT_ID/series storing data in different formats </b></td></tr><tr><td><test id="Y3BL"><code>Y3BL</code></test></td><td>✅</td><td><span class="type"> stores data of any basic type</span></td></tr><tr><td><test id="3WGH"><code>3WGH</code></test></td><td>✅</td><td><span class="type"> stores data of complex types</span></td></tr><tr><td><test id="1NDB"><code>1NDB</code></test></td><td>✅</td><td><span class="type"> doesn&#39;t accept data in non-series format</span></td></tr><tr><td><test id="YMHK"><code>YMHK</code></test></td><td>✅</td><td><span class="type"> stores strings</span></td></tr><tr><td><test id="ZL7C"><code>ZL7C</code></test></td><td>✅</td><td><span class="type"> stores floats</span></td></tr><tr><td colspan="3"><b>Storing data in a HF series POST /events/EVENT_ID/series complex types such as ratio/generic </b></td></tr><tr><td><test id="DTZ2"><code>DTZ2</code></test></td><td>✅</td><td><span class="type"> refuses to store when timestamp is present twice (ambiguous!)</span></td></tr><tr><td><test id="UU4R"><code>UU4R</code></test></td><td>✅</td><td><span class="type"> refuses to store when other fields are present twice (ambiguous!)</span></td></tr><tr><td colspan="3"><b>Storing data in a HF series POST /events/EVENT_ID/series complex types such as ratio/generic when not all required fields are given </b></td></tr><tr><td><test id="FNDT"><code>FNDT</code></test></td><td>✅</td><td><span class="type"> refuses to store when not all required fields are given</span></td></tr><tr><td><test id="H525"><code>H525</code></test></td><td>✅</td><td><span class="type"> returns error id &quot;invalid-request-structure&quot;</span></td></tr><tr><td colspan="3"><b>Storing data in a HF series POST /events/EVENT_ID/series complex types such as ratio/generic when field names don't match the type </b></td></tr><tr><td><test id="AJMS"><code>AJMS</code></test></td><td>✅</td><td><span class="type"> refuses to store when field names don&#39;t match the type</span></td></tr><tr><td><test id="7CR7"><code>7CR7</code></test></td><td>✅</td><td><span class="type"> returns the error message with the id &quot;invalid-request-structure&quot;</span></td></tr><tr><td colspan="3"><b>Storing data in a HF series POST /events/EVENT_ID/series complex types such as position/wgs84 </b></td></tr><tr><td><test id="UDHO"><code>UDHO</code></test></td><td>✅</td><td><span class="type"> allows storing any number of optional fields, on each request</span></td></tr><tr><td><test id="JDTH"><code>JDTH</code></test></td><td>✅</td><td><span class="type"> refuses unknown fields</span></td></tr><tr><td colspan="3"><b>Metadata Loader </b></td></tr><tr><td><test id="U6F2"><code>U6F2</code></test></td><td>✅</td><td><span class="type"> should allow write access to series</span></td></tr><tr><td colspan="3"><b>Metadata Cache </b></td></tr><tr><td><test id="O8AE"><code>O8AE</code></test></td><td>✅</td><td><span class="type"> returns loaded metadata for N minutes</span></td></tr><tr><td colspan="3"><b>Server </b></td></tr><tr><td><test id="O84I"><code>O84I</code></test></td><td>✅</td><td><span class="type"> can be constructed</span></td></tr><tr><td colspan="3"><b>Server .start </b></td></tr><tr><td><test id="1VEL"><code>1VEL</code></test></td><td>✅</td><td><span class="type"> starts a http server on configured port</span></td></tr><tr><td colspan="3"><b>Settings </b></td></tr><tr><td><test id="KEEZ"><code>KEEZ</code></test></td><td>✅</td><td><span class="type"> should have been loaded for test execution</span></td></tr><tr><td colspan="3"><b>Controller storeSeriesData </b></td></tr><tr><td><test id="3BYC"><code>3BYC</code></test></td><td>✅</td><td><span class="type"> should reject queries if the authorization header is missing</span></td></tr><tr><td><test id="U0WB"><code>U0WB</code></test></td><td>✅</td><td><span class="type"> should reject queries if the eventId is missing</span></td></tr></tbody></table></div></section><section id="services-metadata"> <h3 id="metadata">metadata</h3>
<div class="content"><div class="meta"></div><h4 id="summary">Summary</h4>
<table class="definitions"><tr><th><code>Number of tests</code></th><td>25</td></tr><tr><th><code>Passes ✅</code></th><td>25</td></tr><tr><th><code>Pending ❓</code></th><td>0</td></tr><tr><th><code>Failures ❌</code></th><td></td></tr></table><h4 id="tests">Tests</h4>
<table> <thead><tr><th> 
Id</th><th> 
Status</th><th>Test</th></tr></thead><tbody><tr><td colspan="3"><b>Metadata Updater </b></td></tr><tr><td><test id="POMC"><code>POMC</code></test></td><td>✅</td><td><span class="type"> allows scheduling an update</span></td></tr><tr><td colspan="3"><b>Metadata Updater/Controller #runEach(ms) </b></td></tr><tr><td><test id="9TJ0"><code>9TJ0</code></test></td><td>❓</td><td><span class="type"> starts a timer and runs #act every n ms</span></td></tr><tr><td colspan="3"><b>Metadata Updater/Controller #flushOp(update) </b></td></tr><tr><td><test id="2W9C"><code>2W9C</code></test></td><td>✅</td><td><span class="type"> constructs an Flush operation for the update and returns it</span></td></tr><tr><td colspan="3"><b>Metadata Updater/Controller #act </b></td></tr><tr><td><test id="CIPH"><code>CIPH</code></test></td><td>✅</td><td><span class="type"> pulls elapsed updates and flushes them to MongoDB</span></td></tr><tr><td colspan="3"><b>ErrorLogger </b></td></tr><tr><td><test id="9UOR"><code>9UOR</code></test></td><td>✅</td><td><span class="type"> forwards calls</span></td></tr><tr><td><test id="5AVE"><code>5AVE</code></test></td><td>✅</td><td><span class="type"> catches and logs all exceptions, rethrowing afterwards</span></td></tr><tr><td><test id="9J9U"><code>9J9U</code></test></td><td>✅</td><td><span class="type"> also works for async methods, waiting for the eventual result</span></td></tr><tr><td colspan="3"><b>Flush event with no existing metadata </b></td></tr><tr><td><test id="D5N1"><code>D5N1</code></test></td><td>✅</td><td><span class="type"> writes event metadata to disk</span></td></tr><tr><td colspan="3"><b>Flush event with existing metadata </b></td></tr><tr><td><test id="5QO0"><code>5QO0</code></test></td><td>✅</td><td><span class="type"> doesn&#39;t destroy old earliest and latest</span></td></tr><tr><td><test id="Z70F"><code>Z70F</code></test></td><td>✅</td><td><span class="type"> leaves base data intact</span></td></tr><tr><td colspan="3"><b>UserRepository #resolve(name) </b></td></tr><tr><td><test id="80TC"><code>80TC</code></test></td><td>✅</td><td><span class="type"> returns the user id</span></td></tr><tr><td><test id="8K9H"><code>8K9H</code></test></td><td>✅</td><td><span class="type"> caches the user information for a while</span></td></tr><tr><td colspan="3"><b>PendingUpdatesMap #merge and #get </b></td></tr><tr><td><test id="RE2D"><code>RE2D</code></test></td><td>✅</td><td><span class="type"> stores updates</span></td></tr><tr><td><test id="JJ2Y"><code>JJ2Y</code></test></td><td>✅</td><td><span class="type"> merges updates with preexisting updates via #merge</span></td></tr><tr><td colspan="3"><b>PendingUpdatesMap #elapsed </b></td></tr><tr><td><test id="O55W"><code>O55W</code></test></td><td>✅</td><td><span class="type"> returns all updates that should be flushed</span></td></tr><tr><td><test id="HWPP"><code>HWPP</code></test></td><td>✅</td><td><span class="type"> uses #flushAt to determine deadlines</span></td></tr><tr><td colspan="3"><b>PendingUpdate #merge </b></td></tr><tr><td><test id="412V"><code>412V</code></test></td><td>✅</td><td><span class="type"> constructively merges two updates</span></td></tr><tr><td><test id="HS79"><code>HS79</code></test></td><td>✅</td><td><span class="type"> fails when key is not equal</span></td></tr><tr><td colspan="3"><b>PendingUpdate #flushAt() </b></td></tr><tr><td><test id="79JJ"><code>79JJ</code></test></td><td>✅</td><td><span class="type"> returns <code>cooldown</code> when deadline is far away</span></td></tr><tr><td><test id="OQLP"><code>OQLP</code></test></td><td>✅</td><td><span class="type"> returns <code>deadline</code> when deadline is &lt; <code>cooldown</code></span></td></tr><tr><td colspan="3"><b>Settings #getLogSettingsObject </b></td></tr><tr><td><test id="LULP"><code>LULP</code></test></td><td>✅</td><td><span class="type"> returns a settings object for the log subsystem</span></td></tr><tr><td colspan="3"><b>Settings #loadFromFile(json_file_path) </b></td></tr><tr><td><test id="02H5"><code>02H5</code></test></td><td>✅</td><td><span class="type"> loads settings from an extended JSON file</span></td></tr><tr><td><test id="OA1D"><code>OA1D</code></test></td><td>✅</td><td><span class="type"> loads settings from an extended HJSON file</span></td></tr><tr><td><test id="3RHA"><code>3RHA</code></test></td><td>✅</td><td><span class="type"> loads settings from an extended YAML file</span></td></tr><tr><td colspan="3"><b>Heap #pop </b></td></tr><tr><td><test id="CW89"><code>CW89</code></test></td><td>✅</td><td><span class="type"> pops an item</span></td></tr><tr><td><test id="S15J"><code>S15J</code></test></td><td>✅</td><td><span class="type"> returns null if the heap is empty</span></td></tr></tbody></table></div></section><section id="services-middleware"> <h3 id="middleware">middleware</h3>
<div class="content"><div class="meta"></div><h4 id="summary">Summary</h4>
<table class="definitions"><tr><th><code>Number of tests</code></th><td>10</td></tr><tr><th><code>Passes ✅</code></th><td>10</td></tr><tr><th><code>Pending ❓</code></th><td>0</td></tr><tr><th><code>Failures ❌</code></th><td>0</td></tr></table><h4 id="tests">Tests</h4>
<table> <thead><tr><th> 
Id</th><th> 
Status</th><th>Test</th></tr></thead><tbody><tr><td colspan="3"><b>LoadAccess middleware when an access is actually loaded in request context </b></td></tr><tr><td><test id="OD3D"><code>OD3D</code></test></td><td>✅</td><td><span class="type"> should add the access id as Pryv-access-id header if token is valid</span></td></tr><tr><td><test id="UDW7"><code>UDW7</code></test></td><td>✅</td><td><span class="type"> should still set the Pryv-access-id header in case of error (e.g. expired token)</span></td></tr><tr><td colspan="3"><b>LoadAccess middleware when the access can not be loaded (e.g. invalid token) </b></td></tr><tr><td><test id="9E2D"><code>9E2D</code></test></td><td>✅</td><td><span class="type"> should not set the Pryv-access-id header</span></td></tr><tr><td colspan="3"><b>ProjectVersion#version when no ".api-version" file is available </b></td></tr><tr><td><test id="W2BC"><code>W2BC</code></test></td><td>✅</td><td><span class="type"> returns a version-string</span></td></tr><tr><td><test id="EGO7"><code>EGO7</code></test></td><td>✅</td><td><span class="type"> returns a git describe string</span></td></tr><tr><td colspan="3"><b>ProjectVersion#version when a ".api-version" file exists in the project </b></td></tr><tr><td><test id="HV40"><code>HV40</code></test></td><td>✅</td><td><span class="type"> reads .api-version and returns that constant</span></td></tr><tr><td colspan="3"><b>ProjectVersion#version when neither method works </b></td></tr><tr><td><test id="KTG9"><code>KTG9</code></test></td><td>✅</td><td><span class="type"> throws an error</span></td></tr><tr><td colspan="3"><b>SubdomainToPath middleware using a minimal application </b></td></tr><tr><td><test id="V0R9"><code>V0R9</code></test></td><td>✅</td><td><span class="type"> should not transform illegal usernames</span></td></tr><tr><td><test id="Q5A5"><code>Q5A5</code></test></td><td>✅</td><td><span class="type"> should transform username into a path segment</span></td></tr><tr><td><test id="IDDE"><code>IDDE</code></test></td><td>✅</td><td><span class="type"> should accept dashes</span></td></tr></tbody></table></div></section><section id="services-model"> <h3 id="model">model</h3>
<div class="content"><div class="meta"></div><h4 id="summary">Summary</h4>
<table class="definitions"><tr><th><code>Number of tests</code></th><td>4</td></tr><tr><th><code>Passes ✅</code></th><td>4</td></tr><tr><th><code>Pending ❓</code></th><td>0</td></tr><tr><th><code>Failures ❌</code></th><td>0</td></tr></table><h4 id="tests">Tests</h4>
<table> <thead><tr><th> 
Id</th><th> 
Status</th><th>Test</th></tr></thead><tbody><tr><td colspan="3"><b>MethodContext #parseAuth </b></td></tr><tr><td><test id="ZRW8"><code>ZRW8</code></test></td><td>✅</td><td><span class="type"> should parse token out</span></td></tr><tr><td><test id="AUIY"><code>AUIY</code></test></td><td>✅</td><td><span class="type"> should also parse the callerId when available</span></td></tr><tr><td colspan="3"><b>MethodContext #retrieveAccessFromId </b></td></tr><tr><td><test id="OJW2"><code>OJW2</code></test></td><td>✅</td><td><span class="type"> checks expiry of the access</span></td></tr><tr><td><test id="D0RZ"><code>D0RZ</code></test></td><td>✅</td><td><span class="type"> loads the access</span></td></tr></tbody></table></div></section><section id="services-previews-server"> <h3 id="previews-server">previews-server</h3>
<div class="content"><div class="meta"></div><h4 id="summary">Summary</h4>
<table class="definitions"><tr><th><code>Number of tests</code></th><td>16</td></tr><tr><th><code>Passes ✅</code></th><td>16</td></tr><tr><th><code>Pending ❓</code></th><td>0</td></tr><tr><th><code>Failures ❌</code></th><td>0</td></tr></table><h4 id="tests">Tests</h4>
<table> <thead><tr><th> 
Id</th><th> 
Status</th><th>Test</th></tr></thead><tbody><tr><td colspan="3"><b>Event previews GET /<event id>/preview </b></td></tr><tr><td><test id="NRT9"><code>NRT9</code></test></td><td>✅</td><td><span class="type"> must return JPEG previews for &quot;picture/attached&quot; events and cache the result</span></td></tr><tr><td><test id="FEWU"><code>FEWU</code></test></td><td>✅</td><td><span class="type"> must accept &quot;.jpg&quot; extension in the path (backwards-compatibility)</span></td></tr><tr><td><test id="PBC1"><code>PBC1</code></test></td><td>✅</td><td><span class="type"> must adjust the desired size to the bigger standard size (if exists)</span></td></tr><tr><td><test id="415L"><code>415L</code></test></td><td>✅</td><td><span class="type"> must limit the desired size to the biggest standard size if too big</span></td></tr><tr><td><test id="CWTQ"><code>CWTQ</code></test></td><td>✅</td><td><span class="type"> must serve the cached file if available</span></td></tr><tr><td><test id="2MME"><code>2MME</code></test></td><td>✅</td><td><span class="type"> must regenerate the cached file if obsolete</span></td></tr><tr><td><test id="7Y91"><code>7Y91</code></test></td><td>✅</td><td><span class="type"> must respond with &quot;no content&quot; if the event type is not supported</span></td></tr><tr><td><test id="61N8"><code>61N8</code></test></td><td>✅</td><td><span class="type"> must return a proper error if the event does not exist</span></td></tr><tr><td><test id="VIJO"><code>VIJO</code></test></td><td>✅</td><td><span class="type"> must forbid requests missing an access token</span></td></tr><tr><td><test id="FAK4"><code>FAK4</code></test></td><td>✅</td><td><span class="type"> must forbid requests with unauthorized accesses</span></td></tr><tr><td><test id="QUM3"><code>QUM3</code></test></td><td>✅</td><td><span class="type"> must return a proper error if event data is corrupted (no attachment object)</span></td></tr><tr><td><test id="DQF6"><code>DQF6</code></test></td><td>✅</td><td><span class="type"> must return a proper error if event data is corrupted (no attached file)</span></td></tr><tr><td><test id="GSDF"><code>GSDF</code></test></td><td>✅</td><td><span class="type"> must work with animated GIFs too</span></td></tr><tr><td colspan="3"><b>Event previews POST /clean-up-cache </b></td></tr><tr><td><test id="FUYE"><code>FUYE</code></test></td><td>✅</td><td><span class="type"> must clean up cached previews not accessed for one week by default</span></td></tr><tr><td><test id="G5JR"><code>G5JR</code></test></td><td>✅</td><td><span class="type"> must ignore files with no readable extended attribute</span></td></tr><tr><td colspan="3"><b>(index) OPTIONS / </b></td></tr><tr><td><test id="E5MW"><code>E5MW</code></test></td><td>✅</td><td><span class="type"> should return OK</span></td></tr></tbody></table></div></section><section id="services-pryvuser-cli"> <h3 id="pryvuser-cli">pryvuser-cli</h3>
<div class="content"><div class="meta"></div><h4 id="summary">Summary</h4>
<table class="definitions"><tr><th><code>Number of tests</code></th><td>25</td></tr><tr><th><code>Passes ✅</code></th><td>25</td></tr><tr><th><code>Pending ❓</code></th><td>0</td></tr><tr><th><code>Failures ❌</code></th><td>0</td></tr></table><h4 id="tests">Tests</h4>
<table> <thead><tr><th> 
Id</th><th> 
Status</th><th>Test</th></tr></thead><tbody><tr><td colspan="3"><b>CLI application </b></td></tr><tr><td><test id="EWLG"><code>EWLG</code></test></td><td>✅</td><td><span class="type"> prints help and usage when called with no arguments</span></td></tr><tr><td colspan="3"><b>OpDeleteUser </b></td></tr><tr><td><test id="LAEA"><code>LAEA</code></test></td><td>✅</td><td><span class="type"> executes preflight and then deletes the user</span></td></tr><tr><td><test id="YGIE"><code>YGIE</code></test></td><td>✅</td><td><span class="type"> stops after preflight if preflight fails</span></td></tr><tr><td><test id="P2M8"><code>P2M8</code></test></td><td>✅</td><td><span class="type"> stops if user doesnt confirm</span></td></tr><tr><td colspan="3"><b>OpDeleteUser when stubbing connections to all subsystems </b></td></tr><tr><td><test id="CCQY"><code>CCQY</code></test></td><td>✅</td><td><span class="type"> completes preflight successfully</span></td></tr><tr><td><test id="EPJG"><code>EPJG</code></test></td><td>✅</td><td><span class="type"> deletes the user</span></td></tr><tr><td colspan="3"><b>Configuration .load(basePath) when started in fixture 1 </b></td></tr><tr><td><test id="5RLS"><code>5RLS</code></test></td><td>✅</td><td><span class="type"> finds all configuration files</span></td></tr><tr><td colspan="3"><b>Configuration with fileLocations1 fixture config </b></td></tr><tr><td><test id="0Y2F"><code>0Y2F</code></test></td><td>✅</td><td><span class="type"> has the right register url and key</span></td></tr><tr><td><test id="1KYM"><code>1KYM</code></test></td><td>✅</td><td><span class="type"> has mongodb configured correctly (including defaults)</span></td></tr><tr><td><test id="T9FK"><code>T9FK</code></test></td><td>✅</td><td><span class="type"> has the right influxdb settings</span></td></tr><tr><td><test id="1QDH"><code>1QDH</code></test></td><td>✅</td><td><span class="type"> has the right file store settings</span></td></tr><tr><td colspan="3"><b>Connection/FileStore when given a users files #preflight(username) </b></td></tr><tr><td><test id="V2SN"><code>V2SN</code></test></td><td>✅</td><td><span class="type"> works</span></td></tr><tr><td colspan="3"><b>Connection/FileStore when given a users files #deleteUser(username) </b></td></tr><tr><td><test id="2BUQ"><code>2BUQ</code></test></td><td>✅</td><td><span class="type"> deletes the user&#39;s files</span></td></tr><tr><td colspan="3"><b>Connection/InfluxDB when given a username that has a few high frequency series </b></td></tr><tr><td><test id="D0PO"><code>D0PO</code></test></td><td>✅</td><td><span class="type"> produces smoke</span></td></tr><tr><td colspan="3"><b>Connection/InfluxDB when given a username that has a few high frequency series #preflight </b></td></tr><tr><td><test id="AYEK"><code>AYEK</code></test></td><td>✅</td><td><span class="type"> checks the connection and exits</span></td></tr><tr><td colspan="3"><b>Connection/InfluxDB when given a username that has a few high frequency series #deleteUser(username) </b></td></tr><tr><td><test id="RYOE"><code>RYOE</code></test></td><td>✅</td><td><span class="type"> deletes the user&#39;s database</span></td></tr><tr><td colspan="3"><b>Connection/MongoDB when the user doesn't exist #preflight(username) </b></td></tr><tr><td><test id="YU38"><code>YU38</code></test></td><td>✅</td><td><span class="type"> throws</span></td></tr><tr><td colspan="3"><b>Connection/MongoDB when given a user fixture #preflight(username) </b></td></tr><tr><td><test id="K52O"><code>K52O</code></test></td><td>✅</td><td><span class="type"> checks the connection and doesn&#39;t throw</span></td></tr><tr><td colspan="3"><b>Connection/MongoDB when given a user fixture #deleteUser(username) </b></td></tr><tr><td><test id="5NSD"><code>5NSD</code></test></td><td>✅</td><td><span class="type"> deletes the user from MongoDB</span></td></tr><tr><td><test id="47A6"><code>47A6</code></test></td><td>✅</td><td><span class="type"> deletes his data from MongoDB</span></td></tr><tr><td colspan="3"><b>Connection/Registry when using a mocked registry API #preflight(username) </b></td></tr><tr><td><test id="AVED"><code>AVED</code></test></td><td>✅</td><td><span class="type"> calls deleteUser in dryRun mode and doesn&#39;t reject</span></td></tr><tr><td><test id="WL2U"><code>WL2U</code></test></td><td>✅</td><td><span class="type"> does not abort if username is not found on register (already deleted).</span></td></tr><tr><td colspan="3"><b>Connection/Registry when using a mocked registry API #deleteUser(username) </b></td></tr><tr><td><test id="BYAZ"><code>BYAZ</code></test></td><td>✅</td><td><span class="type"> deletes the user</span></td></tr><tr><td><test id="DE8U"><code>DE8U</code></test></td><td>✅</td><td><span class="type"> does not abort if username is not found on register (already deleted).</span></td></tr><tr><td colspan="3"><b>Connection/Registry when using a mocked registry API #deleteUser(username) when given the wrong system key </b></td></tr><tr><td><test id="I09L"><code>I09L</code></test></td><td>✅</td><td><span class="type"> returns &#39;Authentication error&#39;</span></td></tr></tbody></table></div></section><section id="services-storage"> <h3 id="storage">storage</h3>
<div class="content"><div class="meta"></div><h4 id="summary">Summary</h4>
<table class="definitions"><tr><th><code>Number of tests</code></th><td>5</td></tr><tr><th><code>Passes ✅</code></th><td>5</td></tr><tr><th><code>Pending ❓</code></th><td></td></tr><tr><th><code>Failures ❌</code></th><td>0</td></tr></table><h4 id="tests">Tests</h4>
<table> <thead><tr><th> 
Id</th><th> 
Status</th><th>Test</th></tr></thead><tbody><tr><td colspan="3"><b>Database #close() </b></td></tr><tr><td><test id="BYRG"><code>BYRG</code></test></td><td>✅</td><td><span class="type"> closes the database connection</span></td></tr><tr><td colspan="3"><b>Database Mongo duplicate errors </b></td></tr><tr><td><test id="9UBA"><code>9UBA</code></test></td><td>✅</td><td><span class="type"> must detect mongo duplicate errors with isDuplicateError</span></td></tr><tr><td><test id="W1FO"><code>W1FO</code></test></td><td>✅</td><td><span class="type"> must augment mongo duplicate errors with duplicate check utilities</span></td></tr><tr><td><test id="D0EN"><code>D0EN</code></test></td><td>✅</td><td><span class="type"> must fail if mongo duplicate error message changed</span></td></tr><tr><td colspan="3"><b>Versions </b></td></tr><tr><td><test id="XXXX"><code>XXXX</code></test></td><td>❓</td><td><span class="type">must handle data migration from v0.2.0 to v0.3.0 (skipped, obsolete)</span></td></tr><tr><td><test id="XXXX"><code>XXXX</code></test></td><td>❓</td><td><span class="type">must handle data migration from v0.3.0 to v0.4.0 (skipped, obsolete)</span></td></tr><tr><td><test id="XXXX"><code>XXXX</code></test></td><td>❓</td><td><span class="type">must handle data migration from v0.4.0 to v0.5.0 (skipped, obsolete)</span></td></tr><tr><td><test id="XXXX"><code>XXXX</code></test></td><td>❓</td><td><span class="type">must handle data migration from v0.5.0 to v0.7.0</span></td></tr><tr><td><test id="XXXX"><code>XXXX</code></test></td><td>❓</td><td><span class="type">must handle data migration from v0.7.0 to v0.7.1</span></td></tr><tr><td><test id="XXXX"><code>XXXX</code></test></td><td>❓</td><td><span class="type">must handle data migration from v0.7.1 to 1.2.0</span></td></tr><tr><td><test id="XXXX"><code>XXXX</code></test></td><td>❓</td><td><span class="type">must handle data migration from v1.2.0 to v1.2.5</span></td></tr><tr><td><test id="XXXX"><code>XXXX</code></test></td><td>❓</td><td><span class="type">must handle data migration from v1.3.37 to 1.3.40</span></td></tr><tr><td><test id="CRPD"><code>CRPD</code></test></td><td>✅</td><td><span class="type"> must handle data migration from v1.3.40 to 1.4.0</span></td></tr></tbody></table></div></section><section id="services-tprpc"> <h3 id="tprpc">tprpc</h3>
<div class="content"><div class="meta"></div><h4 id="summary">Summary</h4>
<table class="definitions"><tr><th><code>Number of tests</code></th><td>3</td></tr><tr><th><code>Passes ✅</code></th><td>3</td></tr><tr><th><code>Pending ❓</code></th><td>0</td></tr><tr><th><code>Failures ❌</code></th><td>0</td></tr></table><h4 id="tests">Tests</h4>
<table> <thead><tr><th> 
Id</th><th> 
Status</th><th>Test</th></tr></thead><tbody><tr><td colspan="3"><b>Base API </b></td></tr><tr><td><test id="GZFK"><code>GZFK</code></test></td><td>✅</td><td><span class="type"> making a call</span></td></tr><tr><td><test id="V7MJ"><code>V7MJ</code></test></td><td>✅</td><td><span class="type"> failing a call (server-side)</span></td></tr><tr><td colspan="3"><b>Type Compilation </b></td></tr><tr><td><test id="0YBR"><code>0YBR</code></test></td><td>✅</td><td><span class="type"> compiles a .proto 3 syntax file into a set of flow-type interfaces</span></td></tr></tbody></table></div></section><section id="services-utils"> <h3 id="utils">utils</h3>
<div class="content"><div class="meta"></div><h4 id="summary">Summary</h4>
<table class="definitions"><tr><th><code>Number of tests</code></th><td>10</td></tr><tr><th><code>Passes ✅</code></th><td>10</td></tr><tr><th><code>Pending ❓</code></th><td>0</td></tr><tr><th><code>Failures ❌</code></th><td>0</td></tr></table><h4 id="tests">Tests</h4>
<table> <thead><tr><th> 
Id</th><th> 
Status</th><th>Test</th></tr></thead><tbody><tr><td colspan="3"><b>Tree utils buildTree() </b></td></tr><tr><td><test id="32CB"><code>32CB</code></test></td><td>✅</td><td><span class="type"> must build a correct tree for a given consistent array</span></td></tr><tr><td><test id="VVVS"><code>VVVS</code></test></td><td>✅</td><td><span class="type"> must throw an error if objects do not contain the necessary properties</span></td></tr><tr><td><test id="CEUF"><code>CEUF</code></test></td><td>✅</td><td><span class="type"> must throw an error if the object in argument is not an array</span></td></tr><tr><td colspan="3"><b>Tree utils flattenTree() </b></td></tr><tr><td><test id="11JJ"><code>11JJ</code></test></td><td>✅</td><td><span class="type"> must build a correct array for a given tree</span></td></tr><tr><td><test id="OVJM"><code>OVJM</code></test></td><td>✅</td><td><span class="type"> must throw an error if the object in argument is not an array</span></td></tr><tr><td colspan="3"><b>Tree utils findInTree() </b></td></tr><tr><td><test id="S1N0"><code>S1N0</code></test></td><td>✅</td><td><span class="type"> must return the first item matching the given iterator function</span></td></tr><tr><td><test id="SI6L"><code>SI6L</code></test></td><td>✅</td><td><span class="type"> must return null if no item matches the given iterator function</span></td></tr><tr><td colspan="3"><b>Tree utils filterTree() </b></td></tr><tr><td><test id="YIE6"><code>YIE6</code></test></td><td>✅</td><td><span class="type"> must return only items matching the given iterator function</span></td></tr><tr><td colspan="3"><b>Tree utils collect() </b></td></tr><tr><td><test id="AU44"><code>AU44</code></test></td><td>✅</td><td><span class="type"> must return an array with values matching the iterator function for each item in the tree</span></td></tr><tr><td colspan="3"><b>Tree utils expandIds() </b></td></tr><tr><td><test id="PFJP"><code>PFJP</code></test></td><td>✅</td><td><span class="type"> must return an array with the ids passed in argument plus those of all their descendants</span></td></tr></tbody></table></div></section><section id="services-webhooks"> <h3 id="webhooks">webhooks</h3>
<div class="content"><div class="meta"></div><h4 id="summary">Summary</h4>
<table class="definitions"><tr><th><code>Number of tests</code></th><td>6</td></tr><tr><th><code>Passes ✅</code></th><td>6</td></tr><tr><th><code>Pending ❓</code></th><td>0</td></tr><tr><th><code>Failures ❌</code></th><td>0</td></tr></table><h4 id="tests">Tests</h4>
<table> <thead><tr><th> 
Id</th><th> 
Status</th><th>Test</th></tr></thead><tbody><tr><td colspan="3"><b>Webhooks when loading Webhooks on startup when booting the webhooks application </b></td></tr><tr><td><test id="YD6N"><code>YD6N</code></test></td><td>✅</td><td><span class="type"> should send a boot message to all active webhooks</span></td></tr><tr><td><test id="UM4T"><code>UM4T</code></test></td><td>✅</td><td><span class="type"> should send nothing to inactive webhooks</span></td></tr><tr><td colspan="3"><b>Webhooks when loading Webhooks on startup when creating an event in a Webhook scope when the notifications server is running </b></td></tr><tr><td><test id="3TMH"><code>3TMH</code></test></td><td>✅</td><td><span class="type"> should send API call to the notifications server</span></td></tr><tr><td><test id="7N4L"><code>7N4L</code></test></td><td>✅</td><td><span class="type"> should update the Webhook&#39;s data to the storage</span></td></tr><tr><td colspan="3"><b>Webhooks when creating a Webhook through api-server </b></td></tr><tr><td><test id="EXQD"><code>EXQD</code></test></td><td>✅</td><td><span class="type"> should register a new webhook in the service through NATS</span></td></tr><tr><td colspan="3"><b>Webhooks when there are running webhooks when deleting a webhook through API server </b></td></tr><tr><td><test id="904D"><code>904D</code></test></td><td>✅</td><td><span class="type"> should deactivate the current running webhook through NATS</span></td></tr></tbody></table></div></section></section></section></div><nav id="toc"></nav></div><footer id="page-footer"><nav class="navbar navbar-default"><div class="container-fluid"><div id="footer-nav"><ul class="nav navbar-nav"><li><a href="mailto:developers@pryv.com">Send a message</a></li><li><a href="https://github.com/pryv">GitHub</a></li><li><a href="https://pryv.com">pryv.com</a></li></ul></div></div></nav></footer><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script><script src="/assets/bootstrap.min.js"></script><script src="/assets/js/toc.min.js"></script><!-- TOC generation--><script>jQuery(document).ready(function($) {
  // Header is about 51 pixels. This equals to 'header + fuzz', fuzz was
  // determined experimentally.
  var offset = 100;

  // Display TOC on the left side of the page.
  $('#toc').toc({
    selector: '#main h1:not(.page-title),#main h2,#main h3',
    ulClass: 'nav'
  });

  // Synchronise scroll/click motion with TOC display.
  $(document).ready(function() {
    // NOTE This is done at onLoad since we need to wait for all CSS
    // to appear.
    $('body').scrollspy({
      target: '#toc',
      offset: offset
    });
  });
});
</script><!-- Code blocks highlighting--><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();
</script><!-- Google Analytics--><script>var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-36589447-2']);
_gaq.push(['_trackPageview']);
(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script><!-- Sales-Wings--><script type="text/javascript" id="SW-fd71dffa-76e8-479e-a37b-6e915b97b023"></script><script>!function(){function a(){var a=document.createElement("script");
a.type="text/javascript",a.async=1,a.src="//go.saleswingsapp.com/assets/javascripts/sw/fd71dffa-76e8-479e-a37b-6e915b97b023";
var b=document.getElementById("SW-fd71dffa-76e8-479e-a37b-6e915b97b023");
b.parentNode.insertBefore(a,b)}window.attachEvent?window.attachEvent("onload",a):window.addEventListener("load",a,0)}();</script></body></html>