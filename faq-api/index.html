<!DOCTYPE html><html lang="en" class="no-js"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="description" property="og:description" content="Pryv API reference and resources for developers"><meta name="author" content="Pryv SA"><meta property="og:type" content="website"><meta name="image" property="og:image" content="/assets/images/logo-256.png"><meta name="viewport" content="width=device-width, initial-scale=1"><title>FAQ - API | Pryv API</title><link rel="icon" href="/assets/images/favicon-black.ico" type="image/x-icon"><link rel="apple-touch-icon" sizes="120x120" href="/assets/images/apple-touch-icon-120x120-black.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/images/apple-touch-icon-152x152-black.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/images/apple-touch-icon-180x180-black.png"><!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:400,300,500,700,400italic|Roboto+Condensed:400,300,700"><link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/docco.min.css"><link rel="stylesheet" type="text/css" href="/assets/fonts/ss-gizmo.min.css"><link rel="stylesheet" type="text/css" href="/assets/style.css"></head><body class="faq with-toc"><header id="page-header"><nav role="navigation" class="navbar navbar-default navbar-fixed-top"><div class="container-fluid"><div class="navbar-header"><a href="https://pryv.com" title="Pryv home" class="navbar-brand logo pryv-home"><img src="/assets/images/icon-home.svg" alt="Pryv home" height="50"></a><a href="/" title="Developers home" class="navbar-brand logo"><img src="/assets/images/logo-256-black.png" alt="Developers home"></a><button type="button" data-toggle="collapse" data-target="#main-nav" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div id="main-nav" class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Guides <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="/getting-started/">Getting started</a></li><li><a href="/concepts/">API concepts</a></li><li><a href="/guides/data-modelling/">Data modelling</a></li><li><a href="/guides/app-guidelines/">App guidelines</a></li><li><a href="/external-resources/">External resources</a></li></ul></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Reference <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="/reference/">API reference</a></li><li><a href="/change-log/">API change log</a></li><li><a href="/event-types/">Event types</a></li><!--+menuItem('standardStructure')--></ul></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">FAQ <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="/faq-api/">API</a></li><li><a href="/faq-infra/">Infrastructure</a></li></ul></li><!--lia(href='#') Blog--></ul><div class="navbar-right"><p class="navbar-text version"><a href="/change-log/" title="View change log">API version: <strong>1.4.23</strong></a></p></div></div></div></nav></header><div id="main-wrapper" class="container container-narrow"><div id="main"><h1 class="page-title">FAQ - API</h1><h2 id="event-types">Event types</h2>
<h3 id="how-can-i-define-custom-event-types-">How can I define custom event types?</h3>
<p>You can define any custom type as long as it follows <a href="http://api.pryv.com/event-types/#basics">this structure</a>. See <a href="http://api.pryv.com/getting-started/pryvme/#data-modelling-tips/">First steps - Data modelling tips</a> for more information.</p>
<h3 id="are-my-events-content-validated-">Are my events content validated?</h3>
<p>The default set of validated types is defined in <a href="https://api.pryv.com/event-types/">https://api.pryv.com/event-types</a>, they are validated upon creation and modification. To validate custom types, it is possible to provide a different source of event types, following the <a href="https://api.pryv.com/event-types/#format-specification">JSON schema format</a>.</p>
<h3 id="what-kind-of-validation-do-you-perform-">What kind of validation do you perform?</h3>
<p>Depending on the <code>type</code> field of the event, the content of the fields <code>content</code> and <code>attachments</code> are validated.</p>
<h2 id="api-methods">API methods</h2>
<h3 id="what-is-the-exact-structure-of-the-create-attachment-call-">What is the exact structure of the create attachment call?</h3>
<p>If you are having issues creating the package for the create attachment call with the client/framework/library you are using, you can print the details of the call by using cURL with the <code>-v</code> verbose option.</p>
<h2 id="user-creation">User creation</h2>
<h3 id="can-we-restrict-access-to-user-creation-">Can we restrict access to user creation?</h3>
<p>The user creation API call uses a token, by not making this token public, it is possible to make account creation available to select users.</p>
<h3 id="is-there-an-api-call-for-user-creation-">Is there an API call for user creation?</h3>
<p>The API call for user creation is defined in <a href="https://github.com/pryv/app-web-auth3/blob/master/src/components/models/Pryv.js#L148">app-web-auth3</a>, please contact us for more information.</p>
<h3 id="what-if-i-don-t-want-to-provide-an-email-registration-phase-">What if I don&#39;t want to provide an email registration phase?</h3>
<p>Account must have an email-like string attached to them. You can make up an email address for you internal app usage, depending on your requirements. Please note that you will not be able to retrieve a lost password using the <a href="https://api.pryv.com/reference-full/#request-password-reset">reset password request</a>.</p>
<p>We suggest using the following format as a placeholder: <code>${USERNAME}@${DOMAIN}</code>.</p>
<h3 id="how-can-i-programmatically-create-user-accounts-">How can I programmatically create user accounts?</h3>
<p>It is possible to create users with an API call, without having to fill the fields manually.</p>
<h2 id="authentication">Authentication</h2>
<h3 id="i-m-getting-the-invalid-credentials-error-on-the-auth-login-call-although-my-fields-are-correct">I&#39;m getting the &quot;invalid credentials&quot; error on the auth.login call although my fields are correct</h3>
<pre><code class="lang-json">{
    &quot;error&quot;: {
        &quot;id&quot;: &quot;invalid-credentials&quot;,
        &quot;message&quot;: &quot;The app id (&quot;appId&quot;) is either missing or not trusted.&quot;
    },
    &quot;meta&quot;: {
        &quot;apiVersion&quot;: &quot;1.2.18&quot;,
        &quot;serverTime&quot;: 1531830525.911
    }
}
</code></pre>
<p>API methods such as <code>auth.login</code> marked as <em>TRUSTED APPS ONLY</em> on <a href="https://api.pryv.com/reference-full/">the <em>full</em> API reference</a> require to have the <code>Origin</code> or <code>Referer</code> headers matching the domain or one defined in the configuration. This field is not changeable in browser as it is a security measure. We use this to prevent phishing attacks that would allow attackers to impersonate Pryv.io connected apps to steal user credentials.</p>
<p>In order for this to work, the web app must be running on a domain allowed by the configuration. By default, this contains: <code>https://*.${DOMAIN}*, https://*.rec.la*, https://*.pryv.github.io*</code>.</p>
<p>In mobile apps, the <code>Origin</code> and <code>Referer</code> headers can be set manually in the HTTP request. For example: <code>Origin: &quot;auth.${DOMAIN}&quot;</code>.</p>
<p>In addition to the host, it is possible to allow this call for a defined set of <code>appId</code>.</p>
<h3 id="what-authentication-should-i-use-in-a-mobile-app-">What authentication should I use in a mobile app?</h3>
<p>You should implement the <a href="https://api.pryv.com/reference-full/#auth-request">auth request</a>, displaying the provided <code>url</code> in a web view. Once you obtain the token, save it into the local app storage so you will not have to authenticate each time.</p>
<h3 id="how-does-a-person-give-access-to-his-data-">How does a person give access to his data?</h3>
<p>Using a token previously obtained, you can generate a new one using the <a href="https://api.pryv.com/reference/#create-access">accesses.create</a> API call to generate a new token. The permission set associated to this token must be a subset of the permissions set of the access token used for the call.</p>
<h3 id="how-can-i-request-access-to-someone-s-data-">How can I request access to someone&#39;s data?</h3>
<p>In order to request an access to someone&#39;s data, one must implement a page that makes an <a href="http://api.pryv.com/reference/#auth-request">auth request</a> when loaded. The <code>url</code> in the response must be displayed to the user. The web page will ask him for his credentials as well as display the list of requested permissions. Upon approval, the app will obtain a valid token in the polling url response.</p>
<p>A simple web app demonstrating this implementation can be seen <a href="https://api.pryv.com/app-web-access/?pryv-reg=reg.pryv.me">here</a>.</p>
<h2 id="account-granularity">Account granularity</h2>
<h3 id="should-i-store-the-data-of-more-than-one-person-in-a-single-pryv-io-account-">Should I store the data of more than one person in a single Pryv.io account?</h3>
<p>For compliance reasons, Pryv.io accounts are per-user. Storing multiple people data under the same account bypasses the authorization step which is the technical equivalent of consent.</p>
<h2 id="sharing-access-between-apps">Sharing access between apps</h2>
<h3 id="how-can-i-access-pryv-io-resources-from-another-app-">How can I access Pryv.io resources from another app?</h3>
<p>This can be done by using the auth request through a consent step or by generating a token directly through an API call using a token obtained previously.</p>
<h2 id="do-you-have-a-test-setup-where-i-could-experiment-with-your-api-">Do you have a test setup where I could experiment with your API?</h2>
<p>You can try out Pryv.io using our demo platform pryv.me: <a href="https://pryv.com/pryvlab/">https://pryv.com/pryvlab/</a></p>
</div><nav id="toc"></nav></div><footer id="page-footer"><nav class="navbar navbar-default"><div class="container-fluid"><div id="footer-nav"><ul class="nav navbar-nav"><li><a href="mailto:developers@pryv.com">Send a message</a></li><li><a href="https://github.com/pryv">GitHub</a></li><li><a href="https://pryv.com">pryv.com</a></li></ul></div></div></nav></footer><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script><script src="/assets/bootstrap.min.js"></script><script src="/assets/js/toc.min.js"></script><!-- TOC generation--><script>jQuery(document).ready(function($) {
  // Header is about 51 pixels. This equals to 'header + fuzz', fuzz was
  // determined experimentally.
  var offset = 100;

  // Display TOC on the left side of the page.
  $('#toc').toc({
    selector: '#main h1:not(.page-title),#main h2,#main h3',
    ulClass: 'nav'
  });

  // Synchronise scroll/click motion with TOC display.
  $(document).ready(function() {
    // NOTE This is done at onLoad since we need to wait for all CSS
    // to appear.
    $('body').scrollspy({
      target: '#toc',
      offset: offset
    });
  });
});
</script><!-- Code blocks highlighting--><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();
</script><!-- Google Analytics--><script>var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-36589447-2']);
_gaq.push(['_trackPageview']);
(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script><!-- Sales-Wings--><script type="text/javascript" id="SW-fd71dffa-76e8-479e-a37b-6e915b97b023"></script><script>!function(){function a(){var a=document.createElement("script");
a.type="text/javascript",a.async=1,a.src="//go.saleswingsapp.com/assets/javascripts/sw/fd71dffa-76e8-479e-a37b-6e915b97b023";
var b=document.getElementById("SW-fd71dffa-76e8-479e-a37b-6e915b97b023");
b.parentNode.insertBefore(a,b)}window.attachEvent?window.attachEvent("onload",a):window.addEventListener("load",a,0)}();</script></body></html>