<!DOCTYPE html><html lang="en" class="no-js"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="description" property="og:description" content="Pryv API reference and resources for developers"><meta name="author" content="Pryv SA"><meta property="og:type" content="website"><meta name="image" property="og:image" content="/assets/images/logo-256.png"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Audit log | Pryv API</title><link rel="icon" href="/assets/images/favicon-black.ico" type="image/x-icon"><link rel="apple-touch-icon" sizes="120x120" href="/assets/images/apple-touch-icon-120x120-black.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/images/apple-touch-icon-152x152-black.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/images/apple-touch-icon-180x180-black.png"><!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:400,300,500,700,400italic|Roboto+Condensed:400,300,700"><link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/docco.min.css"><link rel="stylesheet" type="text/css" href="/assets/fonts/ss-gizmo.min.css"><link rel="stylesheet" type="text/css" href="/assets/style.css"></head><body class="audit-log with-toc"><header id="page-header"><nav role="navigation" class="navbar navbar-default navbar-fixed-top"><div class="container-fluid"><div class="navbar-header"><a href="https://pryv.com" title="Pryv home" class="navbar-brand logo pryv-home"><img src="/assets/images/icon-home.svg" alt="Pryv home" height="50"></a><a href="/" title="Developers home" class="navbar-brand logo"><img src="/assets/images/logo-256-black.png" alt="Developers home"></a><button type="button" data-toggle="collapse" data-target="#main-nav" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div id="main-nav" class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Guides <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="/getting-started/">Getting started</a></li><li><a href="/external-resources/">Apps &amp; Libs</a></li><li><a href="/concepts/">API concepts</a></li><li><a href="/guides/data-modelling/">Data modelling</a></li><li><a href="/guides/webhooks/">Webhooks</a></li><li><a href="/guides/custom-auth/">Custom auth</a></li><li><a href="/guides/app-guidelines/">App guidelines</a></li></ul></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Reference <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="/reference/">API reference</a></li><li><a href="/reference-admin/">Admin API reference</a></li><li><a href="/reference-system/">System API reference</a></li><li><a href="/event-types/">Event types</a></li><li><a href="/open-api/">Open API (Postman)</a></li><li><a href="/change-log/">API change log</a></li></ul></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">FAQ <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="/faq-api/">API</a></li><li><a href="/faq-infra/">Infrastructure</a></li></ul></li><li><a href="https://support.pryv.com/hc/en-us/community/topics">Community</a></li><li><a href="https://github.com/pryv/open-pryv.io">Open Pryv.io</a></li><li><a href="/roadmap/">Roadmap</a></li></ul><div class="navbar-right"><p class="navbar-text version"><a href="/change-log/" title="View change log">API version: <strong>1.6.0</strong></a></p></div></div></div></nav></header><div id="main-wrapper" class="container container-narrow"><div id="main"><h1 class="page-title">Audit log</h1><p><a href="https://github.com/pryv/docs-pryv.io/blob/master/pryv.io/pryv.io-audit-api.md">https://github.com/pryv/docs-pryv.io/blob/master/pryv.io/pryv.io-audit-api.md</a>
<a href="https://github.com/pryv/docs-pryv.io/blob/master/pryv.io/pryv.io-audit.md">https://github.com/pryv/docs-pryv.io/blob/master/pryv.io/pryv.io-audit.md</a></p>
<h2 id="introduction">Introduction</h2>
<p>In regards to new requirements on data privacy, you need to be able by now to track all activities related to the personal data you hold on your servers. This includes tracking of consents, data accesses, data retrievals, but also tracking of data changes. </p>
<p>How to answer these points ? 
Audit logs are considered to be the best way of demonstrating compliance – and “demonstrating compliance” is a key point of new privacy regulations. Keeping logs of processes made on personal data is not only a best practice, but a must for you to achieve compliance.</p>
<p>This is why we have added audit capabilities on Pryv.io, which enable you to generate audit logs and help you to keep track of potential security breaches or internal misuses of information.</p>
<h2 id="definition">Definition</h2>
<p>Let’s take a quick overview of what exactly are <code>Audit logs</code>.</p>
<p>An audit log shows “who” did “what” activity and “how” the system behaved. It comes in the form of a document that records chronologically all the interactions that were made with the personal data stored on the servers : what resources were accessed, the destination and source addresses, a timestamp and the user login information.</p>
<p>When using Pryv.io, it enables you to keep track of details about the actions performed by clients against Pryv.io accounts through the Pryv.io API. </p>
<p>You can take a look on how <code>Audit logs</code> look like on Pryv.io :</p>
<pre><code class="lang-json">{
  &quot;auditLogs&quot;: [
    {
      &quot;id&quot;: &quot;ck8g69df1001n1rpv2k650lt3&quot;,
      &quot;type&quot;: &quot;audit/core&quot;,
      &quot;time&quot;: 1561988300,
      &quot;forwardedFor&quot;: &quot;172.18.0.7&quot;,
      &quot;action&quot;: &quot;GET /events&quot;,
      &quot;query&quot;: &quot;streamId=diary&quot;,
      &quot;accessId&quot;: &quot;ck8g69df1001l1rpvd8u8srl1&quot;,
      &quot;status&quot;: 403,
      &quot;errorMessage&quot;: &quot;Access session has expired.&quot;,
      &quot;errorId&quot;: &quot;forbidden&quot;
    },
    {
      &quot;id&quot;: &quot;ck8g69df1001o1rpvuf1e87s8&quot;,
      &quot;type&quot;: &quot;audit/core&quot;,
      &quot;time&quot;: 1561988900,
      &quot;forwardedFor&quot;: &quot;172.18.0.7&quot;,
      &quot;action&quot;: &quot;GET /events&quot;,
      &quot;query&quot;: &quot;streamId=diary&quot;,
      &quot;accessId&quot;: &quot;ck8g69df1001l1rpvd8u8srl1&quot;,
      &quot;status&quot;: 403,
      &quot;errorMessage&quot;: &quot;Access session has expired.&quot;,
      &quot;errorId&quot;: &quot;forbidden&quot;
    },
    {
      &quot;id&quot;: &quot;ck8g69df1001p1rpv0gd4kx8k&quot;,
      &quot;type&quot;: &quot;audit/core&quot;,
      &quot;time&quot;: 1561989200,
      &quot;forwardedFor&quot;: &quot;172.18.0.7&quot;,
      &quot;action&quot;: &quot;GET /events&quot;,
      &quot;query&quot;: &quot;streamId=work&quot;,
      &quot;accessId&quot;: &quot;ck8g69df1001l1rpvd8u8srl1&quot;,
      &quot;status&quot;: 403,
      &quot;errorMessage&quot;: &quot;Access session has expired.&quot;,
      &quot;errorId&quot;: &quot;forbidden&quot;
    }
  ]
}
</code></pre>
<p>The available parameters of an <code>Audit log</code> in Pryv.io allow you to retrieve exhaustive information about the interactions of your data in Pryv.io. 
It contains the audited action, the IP adress of the client who performed the action, the identifier for the access used to perform the audited action, the time when the action was executed and the result from this action.</p>
<h2 id="why-using-audit-logs-on-pryv-io">Why using Audit Logs on Pryv.io</h2>
<p>%%%work on this part :</p>
<p>Using audit logs on Pryv.io is not only necessary for compliance and auditing capabilities, as it also enables you to :</p>
<ul>
<li><p>Track access to data – <strong>who</strong> accessed <strong>what</strong> and <strong>when</strong>.....you can track all access to data and thus manifest that only the authorized personnel have read the data. 
It can be used to see when a user account may have been hacked, and then if user account privileges were escalated to access specific files or directories with sensitive information. </p>
</li>
<li><p>Track data changes – one of the principles of GDPR is “integrity” – you have to keep the data correct, so any modification should be logged. That way, you can reconstruct an old state or prove the modifications that happened for a reason. </p>
</li>
<li><p>Log GDPR-specific activities – e.g. when the data subject invokes their rights. Each request can be securely logged so that you can prove to authorities the exact sequence of events relating to the particular data subject</p>
</li>
<li><p>Log consent and the accompanying circumstances – date, time, IP address, etc. Then you can also log consent withdrawal, and the history of the consent of the data subject will be visible in one place and you will be able to prove to regulators when you had and when you didn’t have consent for processing.</p>
</li>
</ul>
<p>It ensures that the system remains stable and users are held accountable for their actions, which are tracked by event logs. </p>
<h2 id="design">Design</h2>
<p>???</p>
<p>Importantly, the logs on Pryv.io can only be fetched by presenting an authorization token, allowing to audit the actions that involved a given token.</p>
<h2 id="conclusion">Conclusion</h2>
<p>If you wish to get more information on the data structure of an <code>Audit Log</code> in Pryv.io, please refer to the corresponding section of the <a href="/reference/#audit-log">API reference</a>. 
It describes the main features of the data structure, while the methods relative to audit logs can be found in the <a href="/reference/#audit">API methods section</a>.</p>
</div><nav id="toc"></nav></div><footer id="page-footer"><nav class="navbar navbar-default"><div class="container-fluid"><div id="footer-nav"><ul class="nav navbar-nav"><li><a href="mailto:developers@pryv.com">Send a message</a></li><li><a href="https://github.com/pryv">GitHub</a></li><li><a href="https://pryv.com">pryv.com</a></li></ul></div></div></nav></footer><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script><script src="/assets/bootstrap.min.js"></script><script src="/assets/js/toc.min.js"></script><!-- TOC generation--><script>jQuery(document).ready(function($) {
  // Header is about 51 pixels. This equals to 'header + fuzz', fuzz was
  // determined experimentally.
  var offset = 90;

  // Display TOC on the left side of the page.
  $('#toc').toc({
    selector: '#main h1:not(.page-title),#main h2,#main h3',
    ulClass: 'nav'
  });

  // Synchronise scroll/click motion with TOC display.
  $(document).ready(function() {
    // NOTE This is done at onLoad since we need to wait for all CSS
    // to appear.
    $('body').scrollspy({
      target: '#toc',
      offset: offset
    });
    scrollBy(0, 1); // make it scroll to be sure scrollspy gets it
    
    // fix offset when navigating
    $('#toc li a, a.toc-anchor').click(function (e) {
      e.preventDefault();
      var target = $(this).attr('href');
      window.location.hash = target;
      
      $(target)[0].scrollIntoView();
      if ($(window).scrollTop() + $(window).height() !== $(document).height()) {
        //only adjust when not at bottom
        scrollBy(0, -offset + 40);
      }
      return true;
    });
  
  });
});
</script><!-- Code blocks highlighting--><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();
</script><!-- Google Analytics--><script>var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-36589447-2']);
_gaq.push(['_trackPageview']);
(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></body></html>